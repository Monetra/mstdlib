<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mstdlib-1.0.0: SQL Statement Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mstdlib-1.0.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__m__sql__stmt.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SQL Statement Management<div class="ingroups"><a class="el" href="group__m__sql.html">SQL Subsystem</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__m__sql__stmt__bind"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt__bind.html">SQL Statement Request Parameter Binding</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__m__sql__stmt__result"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt__result.html">SQL Statement Results</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga4a726e8b7d1b5cffc6f92fdb3e8fb498"><td class="memItemLeft" align="right" valign="top">typedef struct M_sql_stmt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a></td></tr>
<tr class="separator:ga4a726e8b7d1b5cffc6f92fdb3e8fb498"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga744a85528377cd1f7ce17480a2863917"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#ga744a85528377cd1f7ce17480a2863917">M_sql_stmt_create</a> (void)</td></tr>
<tr class="separator:ga744a85528377cd1f7ce17480a2863917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac33c17989ab52b819ea8a2d5c2962c51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#gac33c17989ab52b819ea8a2d5c2962c51">M_sql_stmt_destroy</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt)</td></tr>
<tr class="separator:gac33c17989ab52b819ea8a2d5c2962c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21b87121fac2d2433a2f363e69139965"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#ga21b87121fac2d2433a2f363e69139965">M_sql_stmt_prepare</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, const char *query)</td></tr>
<tr class="separator:ga21b87121fac2d2433a2f363e69139965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70c41894d66a3309f0304d1eee7f0688"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#ga70c41894d66a3309f0304d1eee7f0688">M_sql_stmt_prepare_buf</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *query)</td></tr>
<tr class="separator:ga70c41894d66a3309f0304d1eee7f0688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06cf59359a1ea311e55a821ebddb5782"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#ga06cf59359a1ea311e55a821ebddb5782">M_sql_stmt_groupinsert_prepare</a> (<a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> *pool, const char *query)</td></tr>
<tr class="separator:ga06cf59359a1ea311e55a821ebddb5782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f5ff4e44fb30cb0e6dcd69ed741590e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#ga8f5ff4e44fb30cb0e6dcd69ed741590e">M_sql_stmt_groupinsert_prepare_buf</a> (<a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> *pool, <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *query)</td></tr>
<tr class="separator:ga8f5ff4e44fb30cb0e6dcd69ed741590e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24ff152c4adae378ff4886436706e4eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#ga24ff152c4adae378ff4886436706e4eb">M_sql_stmt_execute</a> (<a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> *pool, <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt)</td></tr>
<tr class="separator:ga24ff152c4adae378ff4886436706e4eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga224186bd19c5a87ceec4d7110d1e9647"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#ga224186bd19c5a87ceec4d7110d1e9647">M_sql_stmt_set_max_fetch_rows</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, size_t num)</td></tr>
<tr class="separator:ga224186bd19c5a87ceec4d7110d1e9647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9d6456db14c2ff8db0ae0187b1a2be7"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#gae9d6456db14c2ff8db0ae0187b1a2be7">M_sql_stmt_set_master_only</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt)</td></tr>
<tr class="separator:gae9d6456db14c2ff8db0ae0187b1a2be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba1356cd573f03ec634323797d2a0c10"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#gaba1356cd573f03ec634323797d2a0c10">M_sql_stmt_has_remaining_rows</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt)</td></tr>
<tr class="separator:gaba1356cd573f03ec634323797d2a0c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga430124c9f04db0408333b7f5e5984102"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#ga430124c9f04db0408333b7f5e5984102">M_sql_stmt_fetch</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt)</td></tr>
<tr class="separator:ga430124c9f04db0408333b7f5e5984102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfc332ef975b065bd7cf6e7d285711ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#gabfc332ef975b065bd7cf6e7d285711ae">M_sql_stmt_get_error</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt)</td></tr>
<tr class="separator:gabfc332ef975b065bd7cf6e7d285711ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08eaa960f3acebe383ed05cd4d749b3f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__stmt.html#ga08eaa960f3acebe383ed05cd4d749b3f">M_sql_stmt_get_error_string</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt)</td></tr>
<tr class="separator:ga08eaa960f3acebe383ed05cd4d749b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>SQL Statement Management </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga4a726e8b7d1b5cffc6f92fdb3e8fb498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">&#9670;&nbsp;</a></span>M_sql_stmt_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct M_sql_stmt <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Data type for prepared SQL statements </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga744a85528377cd1f7ce17480a2863917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga744a85528377cd1f7ce17480a2863917">&#9670;&nbsp;</a></span>M_sql_stmt_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a>* M_sql_stmt_create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a prepared statement object for executing queries.</p>
<p>The statement object holds both request data as well as response data from the server.</p>
<p>Use the <a class="el" href="group__m__sql__stmt__bind.html">M_sql_stmt_bind_*() </a> series of functions to bind data to the statement handle matching the number of bound parameters referenced in the query. When binding parameters, they must be bound in order of appearance in the query.</p>
<dl class="section return"><dt>Returns</dt><dd>Initialized <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> object </dd></dl>

</div>
</div>
<a id="gac33c17989ab52b819ea8a2d5c2962c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac33c17989ab52b819ea8a2d5c2962c51">&#9670;&nbsp;</a></span>M_sql_stmt_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_sql_stmt_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a prepared statement object</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Initialized <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga21b87121fac2d2433a2f363e69139965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21b87121fac2d2433a2f363e69139965">&#9670;&nbsp;</a></span>M_sql_stmt_prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> M_sql_stmt_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare statement for execution.</p>
<p>This process will perform basic preprocessing and transformation on the statement query. Parameters for the query may be bound either before or after this call. A placeholder of a question mark (?) will be used for each bound parameter in the statement.</p>
<p>No inline text is allowed in a prepared statement, callers must ensure they bind any text values.</p>
<p>Only a single query per statement execution is allowed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Initialized <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">query</td><td>Query to be prepared </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea4321145ef534b2263011566a66b8bef8">M_SQL_ERROR_SUCCESS</a> on sucess, or one of the <a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> values on failure. </dd></dl>

</div>
</div>
<a id="ga70c41894d66a3309f0304d1eee7f0688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70c41894d66a3309f0304d1eee7f0688">&#9670;&nbsp;</a></span>M_sql_stmt_prepare_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> M_sql_stmt_prepare_buf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare statement for execution from an <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> object that will be automatically free'd.</p>
<p>This process will perform basic preprocessing and transformation on the statement query. Parameters for the query may be bound either before or after this call. A placeholder of a question mark (?) will be used for each bound parameter in the statement.</p>
<p>No inline text is allowed in a prepared statement, callers must ensure they bind any text values.</p>
<p>Only a single query per statement execution is allowed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Initialized <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">query</td><td>Query to be prepared held in an <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> object. The <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> passed to this function will be automatically destroyed so must not be used after a call to this function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea4321145ef534b2263011566a66b8bef8">M_SQL_ERROR_SUCCESS</a> on sucess, or one of the <a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> values on failure. </dd></dl>

</div>
</div>
<a id="ga06cf59359a1ea311e55a821ebddb5782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06cf59359a1ea311e55a821ebddb5782">&#9670;&nbsp;</a></span>M_sql_stmt_groupinsert_prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a>* M_sql_stmt_groupinsert_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a "grouped" SQL statement for optimizing server round-trips and commits for "like" INSERT statements.</p>
<p>When multiple threads are performing similar actions, such as during transaction processing, it is very likely that those multiple threads might need to perform essentially the same insert action on the same table with the same number of bound parameters. Instead of sending these insertions individually, it is more efficient to group them together which could result in a single round trip and transaction instead of dozens or even hundreds.</p>
<p>This implementation will generate a hashtable entry in the pool with the query as the key and the statement handle as the value. If the entry already exists, it will use the existing statement handle and simply prepare it to take a new row then once <a class="el" href="group__m__sql__stmt.html#ga24ff152c4adae378ff4886436706e4eb">M_sql_stmt_execute()</a> is called, it wait on a thread conditional rather than trying to directly execute the statement, which will wake when a result is ready. If the entry is not already in the hashtable, it will add it, then on <a class="el" href="group__m__sql__stmt.html#ga24ff152c4adae378ff4886436706e4eb">M_sql_stmt_execute()</a> it will temporarily <a class="el" href="group__m__thread__common__create.html#gaea4837975c7c8b5a60d4b5e3e0e72148">M_thread_yield()</a> in order to allow other threads to obtain a lock and append additional rows, then finally execute and trigger the other threads waiting on the conditional that a result is ready.</p>
<p>All threads must still call <a class="el" href="group__m__sql__stmt.html#gac33c17989ab52b819ea8a2d5c2962c51">M_sql_stmt_destroy()</a> as it becomes reference counted when this function is used. All normal M_sql_stmt_*() functions, except <a class="el" href="group__m__sql__stmt.html#ga21b87121fac2d2433a2f363e69139965">M_sql_stmt_prepare()</a> and <a class="el" href="group__m__sql__stmt.html#ga70c41894d66a3309f0304d1eee7f0688">M_sql_stmt_prepare_buf()</a> may be called. It should be advised that <a class="el" href="group__m__sql__stmt__result.html#gacde5b6d1cd003706f683433570c01231">M_sql_stmt_result_affected_rows()</a> may not return an expected count since it would reflect the overall count of grouped rows. Also, if an error such as <a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea3eda0e0b394b4076441ef05652921fa1">M_SQL_ERROR_QUERY_CONSTRAINT</a> is returned, the error maybe for another row, so it is advisable to simply re-run the query without using <a class="el" href="group__m__sql__stmt.html#ga06cf59359a1ea311e55a821ebddb5782">M_sql_stmt_groupinsert_prepare()</a> so you know if the record being inserted is the culprit or not.</p>
<dl class="section note"><dt>Note</dt><dd>At a minimum, one of the M_sql_stmt_bind_*() functions should be called, as well as <a class="el" href="group__m__sql__stmt.html#ga24ff152c4adae378ff4886436706e4eb">M_sql_stmt_execute()</a> and <a class="el" href="group__m__sql__stmt.html#gac33c17989ab52b819ea8a2d5c2962c51">M_sql_stmt_destroy()</a>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If an error is triggered, such as <a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea3eda0e0b394b4076441ef05652921fa1">M_SQL_ERROR_QUERY_CONSTRAINT</a>, the caller must re-try the transaction using normal <a class="el" href="group__m__sql__stmt.html#ga744a85528377cd1f7ce17480a2863917">M_sql_stmt_create()</a> and <a class="el" href="group__m__sql__stmt.html#ga21b87121fac2d2433a2f363e69139965">M_sql_stmt_prepare()</a> rather than <a class="el" href="group__m__sql__stmt.html#ga06cf59359a1ea311e55a821ebddb5782">M_sql_stmt_groupinsert_prepare()</a> to recover.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>Initialized connection pool. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">query</td><td>Query string to execute </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> handle to bind parameters and execute. </dd></dl>

</div>
</div>
<a id="ga8f5ff4e44fb30cb0e6dcd69ed741590e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f5ff4e44fb30cb0e6dcd69ed741590e">&#9670;&nbsp;</a></span>M_sql_stmt_groupinsert_prepare_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a>* M_sql_stmt_groupinsert_prepare_buf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a "grouped" SQL statement for optimizing server round-trips and commits for "like" INSERT statements using an M_buf_t as the query string.</p>
<p>See <a class="el" href="group__m__sql__stmt.html#ga06cf59359a1ea311e55a821ebddb5782">M_sql_stmt_groupinsert_prepare()</a> for additional information. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>Initialized connection pool. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">query</td><td>Query string to execute </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> handle to bind parameters and execute. </dd></dl>

</div>
</div>
<a id="ga24ff152c4adae378ff4886436706e4eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24ff152c4adae378ff4886436706e4eb">&#9670;&nbsp;</a></span>M_sql_stmt_execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> M_sql_stmt_execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute a single query against the database and auto-commit if appropriate.</p>
<p>Must call <a class="el" href="group__m__sql__stmt.html#ga21b87121fac2d2433a2f363e69139965">M_sql_stmt_prepare()</a> or <a class="el" href="group__m__sql__stmt.html#ga70c41894d66a3309f0304d1eee7f0688">M_sql_stmt_prepare_buf()</a> prior to execution. Must also bind any parameters using <a class="el" href="group__m__sql__stmt__bind.html">M_sql_stmt_bind_*() </a> series of functions.</p>
<p>If executing as part of a transaction, use <a class="el" href="group__m__sql__trans.html#ga63477b2bd1f89f36d72d18a0e63591dc">M_sql_trans_execute()</a> instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>Initialized <a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Initialized and prepared <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea4321145ef534b2263011566a66b8bef8">M_SQL_ERROR_SUCCESS</a> on success, or one of the <a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> values on failure. </dd></dl>

</div>
</div>
<a id="ga224186bd19c5a87ceec4d7110d1e9647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga224186bd19c5a87ceec4d7110d1e9647">&#9670;&nbsp;</a></span>M_sql_stmt_set_max_fetch_rows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_stmt_set_max_fetch_rows </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the maximum number of rows to fetch/cache in the statement handle.</p>
<p>By default, all available rows are cached, if this is called, only up to this number of rows will be cached client-side. The <a class="el" href="group__m__sql__stmt.html#ga430124c9f04db0408333b7f5e5984102">M_sql_stmt_fetch()</a> function must be called until there are no remaining rows server-side.</p>
<p>It is recommended that users use partial fetching for extremely large result sets (either by number of rows, or for extremely large rows).</p>
<dl class="section warning"><dt>Warning</dt><dd>If a user chooses not to call this function, and the dataset is very large (especially if it contains BLOBs), then the user risks running out of memory. However, if the user sets this value too low for small row sizes, it could significantly increase the query time on some servers (like Oracle).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Initialized, but not yet executed <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Number of rows to cache at a time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on failure (misuse, already executed). </dd></dl>

</div>
</div>
<a id="gae9d6456db14c2ff8db0ae0187b1a2be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9d6456db14c2ff8db0ae0187b1a2be7">&#9670;&nbsp;</a></span>M_sql_stmt_set_master_only()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_stmt_set_master_only </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enforce the selection of the master pool, not the read-only pool for this statement.</p>
<p>Queries will, by default, be routed to the read-only pool. In some instances, this may not be desirable if it is known that the query must be as fresh as possible and thus route to the read/write pool.</p>
<p>Another work around is simply to wrap the read request in a transaction, but if not performing other tasks, that may be overkill and this function simplifies that logic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Initialized and not yet executed <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on failure (misuse, already executed). </dd></dl>

</div>
</div>
<a id="gaba1356cd573f03ec634323797d2a0c10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba1356cd573f03ec634323797d2a0c10">&#9670;&nbsp;</a></span>M_sql_stmt_has_remaining_rows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_stmt_has_remaining_rows </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve whether there are still remaining rows on the server yet to be fetched by the client.</p>
<p>If there are remaining rows, the client must call <a class="el" href="group__m__sql__stmt.html#ga430124c9f04db0408333b7f5e5984102">M_sql_stmt_fetch()</a> to cache the next result set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Initialized and executed <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if there are remaining rows on the server that can be fetched, M_FALSE otherwise. </dd></dl>

</div>
</div>
<a id="ga430124c9f04db0408333b7f5e5984102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga430124c9f04db0408333b7f5e5984102">&#9670;&nbsp;</a></span>M_sql_stmt_fetch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> M_sql_stmt_fetch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch additional rows from the server.</p>
<p>Any existing cached rows will be cleared.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Initialized and executed M_sql_stmt_t object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea18a28fa2a16e66ca214f7d3dcd3f8b00">M_SQL_ERROR_SUCCESS_ROW</a> on success when there may be additional remaining rows, or <a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea4321145ef534b2263011566a66b8bef8">M_SQL_ERROR_SUCCESS</a> if there are no remaining rows (if <a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea4321145ef534b2263011566a66b8bef8">M_SQL_ERROR_SUCCESS</a> is returned, it is guaranteed no additional rows can be fetched using <a class="el" href="group__m__sql__stmt.html#ga430124c9f04db0408333b7f5e5984102">M_sql_stmt_fetch()</a>). However, there may still be additional rows in the buffer that need to be processed, please check with <a class="el" href="group__m__sql__stmt__result.html#ga671286710e48ea0ef5d433fceb5d81e7">M_sql_stmt_result_num_rows()</a>. Otherwise one of the <a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> error conditions will be returned. </dd></dl>

</div>
</div>
<a id="gabfc332ef975b065bd7cf6e7d285711ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabfc332ef975b065bd7cf6e7d285711ae">&#9670;&nbsp;</a></span>M_sql_stmt_get_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> M_sql_stmt_get_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the last recorded error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Initialized <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>last recorded <a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> for statement handle. </dd></dl>

</div>
</div>
<a id="ga08eaa960f3acebe383ed05cd4d749b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08eaa960f3acebe383ed05cd4d749b3f">&#9670;&nbsp;</a></span>M_sql_stmt_get_error_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* M_sql_stmt_get_error_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the last recorded error message in string form.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Initialized <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>last recorded error string, or NULL if none </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Feb 20 2018 12:46:13 for Mstdlib-1.0.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
