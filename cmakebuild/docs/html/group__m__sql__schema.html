<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mstdlib-1.0.0: SQL Table/Schema Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mstdlib-1.0.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__m__sql__schema.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SQL Table/Schema Management<div class="ingroups"><a class="el" href="group__m__sql.html">SQL Subsystem</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga380c760a249b265986336b993c1fef8b"><td class="memItemLeft" align="right" valign="top">typedef struct M_sql_table&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a></td></tr>
<tr class="separator:ga380c760a249b265986336b993c1fef8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabea621cd8a4e934c4f49314eab3adaec"><td class="memItemLeft" align="right" valign="top">typedef struct M_sql_index&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#gabea621cd8a4e934c4f49314eab3adaec">M_sql_index_t</a></td></tr>
<tr class="separator:gabea621cd8a4e934c4f49314eab3adaec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad565649c9295f81485e65c56b7e4dadc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#gad565649c9295f81485e65c56b7e4dadc">M_sql_table_col_flags_t</a> { <br />
&#160;&#160;<a class="el" href="group__m__sql__schema.html#ggad565649c9295f81485e65c56b7e4dadca3a1c46915dcb21c92843ab8e308e3b56">M_SQL_TABLE_COL_FLAG_NONE</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group__m__sql__schema.html#ggad565649c9295f81485e65c56b7e4dadcaec24022939ed9811277add427a2406ff">M_SQL_TABLE_COL_FLAG_NOTNULL</a> = 1 &lt;&lt; 0
<br />
 }</td></tr>
<tr class="separator:gad565649c9295f81485e65c56b7e4dadc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga610e6d5c2aa796a1f9c6a6a7d3cca0cb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#ga610e6d5c2aa796a1f9c6a6a7d3cca0cb">M_sql_table_index_flags_t</a> { <br />
&#160;&#160;<a class="el" href="group__m__sql__schema.html#gga610e6d5c2aa796a1f9c6a6a7d3cca0cba9d511285bde65ea126cb6d896424745d">M_SQL_INDEX_FLAG_NONE</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group__m__sql__schema.html#gga610e6d5c2aa796a1f9c6a6a7d3cca0cba906947421df8291f50c6b7edd0e578cf">M_SQL_INDEX_FLAG_UNIQUE</a> = 1 &lt;&lt; 0
<br />
 }</td></tr>
<tr class="separator:ga610e6d5c2aa796a1f9c6a6a7d3cca0cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga017f5076150553a77d1295fc211448cc"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#ga017f5076150553a77d1295fc211448cc">M_sql_table_exists</a> (<a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> *pool, const char *name)</td></tr>
<tr class="separator:ga017f5076150553a77d1295fc211448cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf0b719de9fffd15de77d60935233f8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#gaaf0b719de9fffd15de77d60935233f8c">M_sql_table_create</a> (const char *name)</td></tr>
<tr class="separator:gaaf0b719de9fffd15de77d60935233f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57f3a11ac3d2ab7b926e3ae255e3903d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#ga57f3a11ac3d2ab7b926e3ae255e3903d">M_sql_table_destroy</a> (<a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *table)</td></tr>
<tr class="separator:ga57f3a11ac3d2ab7b926e3ae255e3903d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2803cc2256f2f50af5493b7de57a835"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#gac2803cc2256f2f50af5493b7de57a835">M_sql_table_add_col</a> (<a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *table, M_uint32 flags, const char *col_name, <a class="el" href="group__m__sql__stmt__result.html#gae672a1a5ceb3af4f3a01347ffd839beb">M_sql_data_type_t</a> datatype, size_t max_len, const char *default_value)</td></tr>
<tr class="separator:gac2803cc2256f2f50af5493b7de57a835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac53d8c0316e4ad8f1bfdae281100fbe7"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#gac53d8c0316e4ad8f1bfdae281100fbe7">M_sql_table_add_pk_col</a> (<a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *table, const char *col_name)</td></tr>
<tr class="separator:gac53d8c0316e4ad8f1bfdae281100fbe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa54d19c2c58f3186c4a56335721b140b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__schema.html#gabea621cd8a4e934c4f49314eab3adaec">M_sql_index_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#gaa54d19c2c58f3186c4a56335721b140b">M_sql_table_add_index</a> (<a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *table, M_uint32 flags, const char *idx_name)</td></tr>
<tr class="separator:gaa54d19c2c58f3186c4a56335721b140b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6cec41f1e850c73b26201f1b46844046"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#ga6cec41f1e850c73b26201f1b46844046">M_sql_index_add_col</a> (<a class="el" href="group__m__sql__schema.html#gabea621cd8a4e934c4f49314eab3adaec">M_sql_index_t</a> *idx, const char *col_name)</td></tr>
<tr class="separator:ga6cec41f1e850c73b26201f1b46844046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2fa00fa2b7c4c22ab67acfd04b7feac"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#gad2fa00fa2b7c4c22ab67acfd04b7feac">M_sql_table_add_index_str</a> (<a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *table, M_uint32 flags, const char *idx_name, const char *idx_cols_csv)</td></tr>
<tr class="separator:gad2fa00fa2b7c4c22ab67acfd04b7feac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57861420bace709b2b04452e3db38971"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__schema.html#ga57861420bace709b2b04452e3db38971">M_sql_table_execute</a> (<a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> *pool, <a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *table, char *error, size_t error_size)</td></tr>
<tr class="separator:ga57861420bace709b2b04452e3db38971"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>SQL Table/Schema Management </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga380c760a249b265986336b993c1fef8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga380c760a249b265986336b993c1fef8b">&#9670;&nbsp;</a></span>M_sql_table_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct M_sql_table <a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type holding table definition </p>

</div>
</div>
<a id="gabea621cd8a4e934c4f49314eab3adaec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabea621cd8a4e934c4f49314eab3adaec">&#9670;&nbsp;</a></span>M_sql_index_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct M_sql_index <a class="el" href="group__m__sql__schema.html#gabea621cd8a4e934c4f49314eab3adaec">M_sql_index_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type holding index definition </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gad565649c9295f81485e65c56b7e4dadc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad565649c9295f81485e65c56b7e4dadc">&#9670;&nbsp;</a></span>M_sql_table_col_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__sql__schema.html#gad565649c9295f81485e65c56b7e4dadc">M_sql_table_col_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flags passed to <a class="el" href="group__m__sql__schema.html#gac2803cc2256f2f50af5493b7de57a835">M_sql_table_add_col()</a> for a column </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggad565649c9295f81485e65c56b7e4dadca3a1c46915dcb21c92843ab8e308e3b56"></a>M_SQL_TABLE_COL_FLAG_NONE&#160;</td><td class="fielddoc"><p>Default, no special flags </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad565649c9295f81485e65c56b7e4dadcaec24022939ed9811277add427a2406ff"></a>M_SQL_TABLE_COL_FLAG_NOTNULL&#160;</td><td class="fielddoc"><p>Column is not allowed to be NULL </p>
</td></tr>
</table>

</div>
</div>
<a id="ga610e6d5c2aa796a1f9c6a6a7d3cca0cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga610e6d5c2aa796a1f9c6a6a7d3cca0cb">&#9670;&nbsp;</a></span>M_sql_table_index_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__sql__schema.html#ga610e6d5c2aa796a1f9c6a6a7d3cca0cb">M_sql_table_index_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Index creation flags used by <a class="el" href="group__m__sql__schema.html#gaa54d19c2c58f3186c4a56335721b140b">M_sql_table_add_index()</a> </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga610e6d5c2aa796a1f9c6a6a7d3cca0cba9d511285bde65ea126cb6d896424745d"></a>M_SQL_INDEX_FLAG_NONE&#160;</td><td class="fielddoc"><p>Default, no special flags </p>
</td></tr>
<tr><td class="fieldname"><a id="gga610e6d5c2aa796a1f9c6a6a7d3cca0cba906947421df8291f50c6b7edd0e578cf"></a>M_SQL_INDEX_FLAG_UNIQUE&#160;</td><td class="fielddoc"><p>Index enforces a unique constraint </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga017f5076150553a77d1295fc211448cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga017f5076150553a77d1295fc211448cc">&#9670;&nbsp;</a></span>M_sql_table_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_table_exists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check to see if a table exists by name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>Initialized <a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Table name to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if table exists, M_FALSE otherwise </dd></dl>

</div>
</div>
<a id="gaaf0b719de9fffd15de77d60935233f8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf0b719de9fffd15de77d60935233f8c">&#9670;&nbsp;</a></span>M_sql_table_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a>* M_sql_table_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a table object which aids in creating a table definition, including indexes to be added to a database.</p>
<p>Table names must start with an alpha character or underscore, and can only contain alpha-numerics and underscores.</p>
<dl class="section warning"><dt>Warning</dt><dd>Table names have a maximum length of 58 bytes, however if there are any indexes also created, then this maximum length cannot be used as the length of the table name and the length of the index name combined are limited to 58 bytes. Some older databases (like Oracle before 12c R2 [March 2017]) were limited to much smaller sizes (30), it is therefore recommended to keep table names as short as possible, as a rule of thumb, 15 or fewer characters should be safe.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>All tables require primary keys (added via <a class="el" href="group__m__sql__schema.html#gac53d8c0316e4ad8f1bfdae281100fbe7">M_sql_table_add_pk_col()</a>) and failure will occur if one tries to add a table without a primary key.</dd></dl>
<p>The table will not be created until <a class="el" href="group__m__sql__schema.html#ga57861420bace709b2b04452e3db38971">M_sql_table_execute()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Table name to create </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Table object, or NULL on error. Use <a class="el" href="group__m__sql__schema.html#ga57f3a11ac3d2ab7b926e3ae255e3903d">M_sql_table_destroy()</a> to free the object. </dd></dl>

</div>
</div>
<a id="ga57f3a11ac3d2ab7b926e3ae255e3903d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga57f3a11ac3d2ab7b926e3ae255e3903d">&#9670;&nbsp;</a></span>M_sql_table_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_sql_table_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a table object created with <a class="el" href="group__m__sql__schema.html#gaaf0b719de9fffd15de77d60935233f8c">M_sql_table_create()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table object initialized by <a class="el" href="group__m__sql__schema.html#gaaf0b719de9fffd15de77d60935233f8c">M_sql_table_create()</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac2803cc2256f2f50af5493b7de57a835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2803cc2256f2f50af5493b7de57a835">&#9670;&nbsp;</a></span>M_sql_table_add_col()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_table_add_col </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint32&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>col_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt__result.html#gae672a1a5ceb3af4f3a01347ffd839beb">M_sql_data_type_t</a>&#160;</td>
          <td class="paramname"><em>datatype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>default_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a column to a table.</p>
<p>Column names have a maximum length of 63 characters and must start with an alpha character or underscore, and can only contain alpha-numerics and underscores. However, some older databases might have shorter limits, such as versions of Oracle prior to 12c R2 (March 2017), were limited to 30 characters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table object initialized by <a class="el" href="group__m__sql__schema.html#gaaf0b719de9fffd15de77d60935233f8c">M_sql_table_create()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Bitmap of <a class="el" href="group__m__sql__schema.html#gad565649c9295f81485e65c56b7e4dadc">M_sql_table_col_flags_t</a> flags </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">col_name</td><td>Column name to create. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">datatype</td><td>Datatype of column </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_len</td><td>Maximum length of column (meant for text or binary columns). Use 0 for the maximum size supported by the database for the data type. It is strongly recommended to specify a reasonable maximum size as it may have a significant impact on performance of some databases. Typically databases have maximum row sizes, and data over these limits will be stored separately (meaning the sum of all columns also matters). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">default_value</td><td>Default value to assign to column. There is little to no validation performed on this value, use caution as it is inserted directly into the create statement. Strings must be quoted with single quotes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on error (most likely usage, bad name or type) </dd></dl>

</div>
</div>
<a id="gac53d8c0316e4ad8f1bfdae281100fbe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac53d8c0316e4ad8f1bfdae281100fbe7">&#9670;&nbsp;</a></span>M_sql_table_add_pk_col()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_table_add_pk_col </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>col_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a column in the table to the primary key.</p>
<p>The order in which the columns are added to the primary key is how the primary key will be indexed/created.</p>
<p>The column name specified must exist in the table object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table object initialized by <a class="el" href="group__m__sql__schema.html#gaaf0b719de9fffd15de77d60935233f8c">M_sql_table_create()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">col_name</td><td>Column name to add to the primary key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on error (such as misuse) </dd></dl>

</div>
</div>
<a id="gaa54d19c2c58f3186c4a56335721b140b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa54d19c2c58f3186c4a56335721b140b">&#9670;&nbsp;</a></span>M_sql_table_add_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__schema.html#gabea621cd8a4e934c4f49314eab3adaec">M_sql_index_t</a>* M_sql_table_add_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint32&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>idx_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add an index to the table</p>
<dl class="section warning"><dt>Warning</dt><dd>Index names have a maximum length of 58 bytes minus the table name length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table object initialized by <a class="el" href="group__m__sql__schema.html#gaaf0b719de9fffd15de77d60935233f8c">M_sql_table_create()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Bitmap of <a class="el" href="group__m__sql__schema.html#ga610e6d5c2aa796a1f9c6a6a7d3cca0cb">M_sql_table_index_flags_t</a> flags </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx_name</td><td>User-chosen index name. This should be as short as reasonably possible. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Index object on success, NULL on failure (misuse) </dd></dl>

</div>
</div>
<a id="ga6cec41f1e850c73b26201f1b46844046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6cec41f1e850c73b26201f1b46844046">&#9670;&nbsp;</a></span>M_sql_index_add_col()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_index_add_col </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__schema.html#gabea621cd8a4e934c4f49314eab3adaec">M_sql_index_t</a> *&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>col_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a column to an index</p>
<p>The order in which the columns are added to the index is how the it will be indexed/created.</p>
<p>The referenced column name must exist in the table definition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>Index object initialized by <a class="el" href="group__m__sql__schema.html#gaa54d19c2c58f3186c4a56335721b140b">M_sql_table_add_index()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">col_name</td><td>Column name to add to index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on failure/misuse. </dd></dl>

</div>
</div>
<a id="gad2fa00fa2b7c4c22ab67acfd04b7feac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2fa00fa2b7c4c22ab67acfd04b7feac">&#9670;&nbsp;</a></span>M_sql_table_add_index_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_table_add_index_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint32&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>idx_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>idx_cols_csv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simplified method to add an index to a table using a comma-delimited string of column names.</p>
<p>Identical to <a class="el" href="group__m__sql__schema.html#gaa54d19c2c58f3186c4a56335721b140b">M_sql_table_add_index()</a> followed by <a class="el" href="group__m__sql__schema.html#ga6cec41f1e850c73b26201f1b46844046">M_sql_index_add_col()</a> for each column in the comma-separated string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table object initialized by <a class="el" href="group__m__sql__schema.html#gaaf0b719de9fffd15de77d60935233f8c">M_sql_table_create()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Bitmap of <a class="el" href="group__m__sql__schema.html#ga610e6d5c2aa796a1f9c6a6a7d3cca0cb">M_sql_table_index_flags_t</a> flags </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx_name</td><td>User-chosen index name. This should be as short as reasonably possible. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx_cols_csv</td><td>Comma separated list of column names to add to the index. The columns must already exist in the table object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on error/misuse </dd></dl>

</div>
</div>
<a id="ga57861420bace709b2b04452e3db38971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga57861420bace709b2b04452e3db38971">&#9670;&nbsp;</a></span>M_sql_table_execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> M_sql_table_execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__sql__schema.html#ga380c760a249b265986336b993c1fef8b">M_sql_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>error_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Apply the table object definition to the database.</p>
<dl class="section note"><dt>Note</dt><dd>This does not destroy the table object. Use <a class="el" href="group__m__sql__schema.html#ga57f3a11ac3d2ab7b926e3ae255e3903d">M_sql_table_destroy()</a> for that.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pool</td><td>Initialized <a class="el" href="group__m__sql__conn.html#ga36847634817b89efb01054d49e3c6352">M_sql_connpool_t</a> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table object initialized by <a class="el" href="group__m__sql__schema.html#gaaf0b719de9fffd15de77d60935233f8c">M_sql_table_create()</a> and populated with columns/indexes and primary keys. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>User-supplied error buffer to output error message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error_size</td><td>Size of user-supplied error buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea4321145ef534b2263011566a66b8bef8">M_SQL_ERROR_SUCCESS</a> on success, or one of the <a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> return values on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Feb 20 2018 12:46:13 for Mstdlib-1.0.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
