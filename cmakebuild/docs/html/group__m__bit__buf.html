<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mstdlib-1.0.0: Bitwise Buffered Data Builder</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mstdlib-1.0.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__m__bit__buf.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Bitwise Buffered Data Builder<div class="ingroups"><a class="el" href="group__mstdlib__base.html">Base</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga3e5bc7e87a3b747e9a0ec16793913a6e"><td class="memItemLeft" align="right" valign="top">typedef struct M_bit_buf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a></td></tr>
<tr class="separator:ga3e5bc7e87a3b747e9a0ec16793913a6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga13c8cbc06199bff5786f20097e2087fa"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga13c8cbc06199bff5786f20097e2087fa">M_bit_buf_pad_t</a> { <br />
&#160;&#160;<a class="el" href="group__m__bit__buf.html#gga13c8cbc06199bff5786f20097e2087faaeb524afbee7db49f0c1b21a5f708846d">M_BIT_BUF_PAD_NONE</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group__m__bit__buf.html#gga13c8cbc06199bff5786f20097e2087faacf60e5e9a7d19ca68cc6bee3a8c68a66">M_BIT_BUF_PAD_BEFORE</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__bit__buf.html#gga13c8cbc06199bff5786f20097e2087faa54799404bf43bdb6a9f86f9149dd5e26">M_BIT_BUF_PAD_AFTER</a>
<br />
 }</td></tr>
<tr class="separator:ga13c8cbc06199bff5786f20097e2087fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga79941acde2d979546c7d7b70279f2745"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga79941acde2d979546c7d7b70279f2745">M_bit_buf_create</a> (void) M_WARN_UNUSED_RESULT M_MALLOC</td></tr>
<tr class="separator:ga79941acde2d979546c7d7b70279f2745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5be818b499f6554f63b0f295e642dd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#gac5be818b499f6554f63b0f295e642dd2">M_bit_buf_destroy</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf) M_FREE(1)</td></tr>
<tr class="separator:gac5be818b499f6554f63b0f295e642dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabe9d1a625bb1c5079ace86cc822a349"><td class="memItemLeft" align="right" valign="top">M_uint8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#gaabe9d1a625bb1c5079ace86cc822a349">M_bit_buf_finish</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf, size_t *nbytes) M_FREE(1) M_WARN_UNUSED_RESULT M_MALLOC</td></tr>
<tr class="separator:gaabe9d1a625bb1c5079ace86cc822a349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3a88b3f01a6e21395dfb4b9fd53539f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#gaa3a88b3f01a6e21395dfb4b9fd53539f">M_bit_buf_finish_buf</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf) M_FREE(1) M_WARN_UNUSED_RESULT M_MALLOC</td></tr>
<tr class="separator:gaa3a88b3f01a6e21395dfb4b9fd53539f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5bd6f6861e42545ad2b0ad6407c7d0bc"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga5bd6f6861e42545ad2b0ad6407c7d0bc">M_bit_buf_len</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf)</td></tr>
<tr class="separator:ga5bd6f6861e42545ad2b0ad6407c7d0bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b4423e9f286f12fcf933e0c02d3355a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga2b4423e9f286f12fcf933e0c02d3355a">M_bit_buf_len_bytes</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf)</td></tr>
<tr class="separator:ga2b4423e9f286f12fcf933e0c02d3355a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34ef8fbf2d52417356bbd459b1894e94"><td class="memItemLeft" align="right" valign="top">const M_uint8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga34ef8fbf2d52417356bbd459b1894e94">M_bit_buf_peek</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf)</td></tr>
<tr class="separator:ga34ef8fbf2d52417356bbd459b1894e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0888b5a0f90955716e59c9b8ac646145"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga0888b5a0f90955716e59c9b8ac646145">M_bit_buf_truncate</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf, size_t len_bits)</td></tr>
<tr class="separator:ga0888b5a0f90955716e59c9b8ac646145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6053e2932cb614c5adc6649587a505a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga6053e2932cb614c5adc6649587a505a1">M_bit_buf_fill</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf, M_uint8 bit, size_t len_bits)</td></tr>
<tr class="separator:ga6053e2932cb614c5adc6649587a505a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad490e244ebedcdfe88f41eb74d853369"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#gad490e244ebedcdfe88f41eb74d853369">M_bit_buf_add_bit</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf, M_uint8 bit)</td></tr>
<tr class="separator:gad490e244ebedcdfe88f41eb74d853369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81c50d3c8357be3f55bcdb79c1288b37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga81c50d3c8357be3f55bcdb79c1288b37">M_bit_buf_add_bytes</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf, const void *bytes, size_t nbits)</td></tr>
<tr class="separator:ga81c50d3c8357be3f55bcdb79c1288b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga584cbab4ab98afcc8fd43db950a922ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga584cbab4ab98afcc8fd43db950a922ad">M_bit_buf_add</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf, M_uint64 bits, size_t nbits, <a class="el" href="group__m__bit__buf.html#ga13c8cbc06199bff5786f20097e2087fa">M_bit_buf_pad_t</a> pad)</td></tr>
<tr class="separator:ga584cbab4ab98afcc8fd43db950a922ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46291c92bba8b65624d0b6859098a7f6"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga46291c92bba8b65624d0b6859098a7f6">M_bit_buf_add_bitstr</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf, const char *bitstr, <a class="el" href="group__m__bit__buf.html#ga13c8cbc06199bff5786f20097e2087fa">M_bit_buf_pad_t</a> pad)</td></tr>
<tr class="separator:ga46291c92bba8b65624d0b6859098a7f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72e74bdb7f3332847d5e0ff317a07902"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__bit__buf.html#ga72e74bdb7f3332847d5e0ff317a07902">M_bit_buf_reserve</a> (<a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf, size_t nbits)</td></tr>
<tr class="separator:ga72e74bdb7f3332847d5e0ff317a07902"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Allows for buffered writing of data that's organized per-bit, instead of per-byte.</p>
<p>When done adding data the contents of the buffer can be output as a continuous byte-array, either raw as an (M_uint8 *), or inside a regular per-byte M_buf_t.</p>
<p>Example (creating a buffer, adding data, finishing the buffer):</p>
<div class="fragment"><div class="line"><a class="code" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *bbuf;</div><div class="line">M_uint8     *out;</div><div class="line"><span class="keywordtype">size_t</span>       out_nbytes;</div><div class="line"></div><div class="line">bbuf = <a class="code" href="group__m__bit__buf.html#ga79941acde2d979546c7d7b70279f2745">M_bit_buf_create</a>();</div><div class="line">M_bbuf_add_bit(bbuf, 1);</div><div class="line">M_bbuf_add(bbuf, 0xA2C4, 14);   <span class="comment">// adds least-significant 14 bits of 0xA2C4</span></div><div class="line">M_bbuf_add_str(bbuf, <span class="stringliteral">&quot;100010000&quot;</span>); <span class="comment">// adds 9 bits from binary-ASCII</span></div><div class="line"></div><div class="line">out = <a class="code" href="group__m__bit__buf.html#gaabe9d1a625bb1c5079ace86cc822a349">M_bit_buf_finish</a>(bbuf, &amp;out_nbytes);</div><div class="line"></div><div class="line"><span class="comment">// out now points to a byte buffer containing 3 bytes. Now can output to disk, do further processing, etc.</span></div><div class="line"></div><div class="line"><a class="code" href="group__m__mem.html#gac4b3c1d73d6efe2542f5e729b58a271d">M_free</a>(out);</div></div><!-- fragment --> <h2 class="groupheader">Typedef Documentation</h2>
<a id="ga3e5bc7e87a3b747e9a0ec16793913a6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e5bc7e87a3b747e9a0ec16793913a6e">&#9670;&nbsp;</a></span>M_bit_buf_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct M_bit_buf <a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga13c8cbc06199bff5786f20097e2087fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13c8cbc06199bff5786f20097e2087fa">&#9670;&nbsp;</a></span>M_bit_buf_pad_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__bit__buf.html#ga13c8cbc06199bff5786f20097e2087fa">M_bit_buf_pad_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumeration for byte-alignment padding mode for <a class="el" href="group__m__bit__buf.html#ga584cbab4ab98afcc8fd43db950a922ad">M_bit_buf_add()</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga13c8cbc06199bff5786f20097e2087faaeb524afbee7db49f0c1b21a5f708846d"></a>M_BIT_BUF_PAD_NONE&#160;</td><td class="fielddoc"><p>Don't add any padding. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga13c8cbc06199bff5786f20097e2087faacf60e5e9a7d19ca68cc6bee3a8c68a66"></a>M_BIT_BUF_PAD_BEFORE&#160;</td><td class="fielddoc"><p>Pad with zero bits before new value, so that bit stream after add is byte-aligned </p>
</td></tr>
<tr><td class="fieldname"><a id="gga13c8cbc06199bff5786f20097e2087faa54799404bf43bdb6a9f86f9149dd5e26"></a>M_BIT_BUF_PAD_AFTER&#160;</td><td class="fielddoc"><p>Pad with zero bits after new value, so that bit stream after add is byte-aligned </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga79941acde2d979546c7d7b70279f2745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79941acde2d979546c7d7b70279f2745">&#9670;&nbsp;</a></span>M_bit_buf_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a>* M_bit_buf_create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new bit buffer.</p>
<dl class="section return"><dt>Returns</dt><dd>allocated buffer.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m__bit__buf.html#gac5be818b499f6554f63b0f295e642dd2">M_bit_buf_destroy</a> </dd>
<dd>
<a class="el" href="group__m__bit__buf.html#gaabe9d1a625bb1c5079ace86cc822a349">M_bit_buf_finish</a> </dd>
<dd>
<a class="el" href="group__m__bit__buf.html#gaa3a88b3f01a6e21395dfb4b9fd53539f">M_bit_buf_finish_buf</a> </dd></dl>

</div>
</div>
<a id="gac5be818b499f6554f63b0f295e642dd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5be818b499f6554f63b0f295e642dd2">&#9670;&nbsp;</a></span>M_bit_buf_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_bit_buf_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free a bit buffer, discarding its data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bbuf</td><td>bit buffer to destroy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaabe9d1a625bb1c5079ace86cc822a349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabe9d1a625bb1c5079ace86cc822a349">&#9670;&nbsp;</a></span>M_bit_buf_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_uint8* M_bit_buf_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free a buffer, saving its data.</p>
<p>The caller is responsible for freeing the data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nbytes</td><td>Data length (in bytes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The buffered data.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m__mem.html#gac4b3c1d73d6efe2542f5e729b58a271d">M_free</a> </dd></dl>

</div>
</div>
<a id="gaa3a88b3f01a6e21395dfb4b9fd53539f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3a88b3f01a6e21395dfb4b9fd53539f">&#9670;&nbsp;</a></span>M_bit_buf_finish_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a>* M_bit_buf_finish_buf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free a buffer, saving its data in a per-byte buffer.</p>
<p>The caller is responsible for freeing the data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bbuf</td><td>Bit buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The buffered data.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m__mem.html#gac4b3c1d73d6efe2542f5e729b58a271d">M_free</a> </dd></dl>

</div>
</div>
<a id="ga5bd6f6861e42545ad2b0ad6407c7d0bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5bd6f6861e42545ad2b0ad6407c7d0bc">&#9670;&nbsp;</a></span>M_bit_buf_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t M_bit_buf_len </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the length of the data held by a buffer, in bits.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data length (in bits) </dd></dl>

</div>
</div>
<a id="ga2b4423e9f286f12fcf933e0c02d3355a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b4423e9f286f12fcf933e0c02d3355a">&#9670;&nbsp;</a></span>M_bit_buf_len_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t M_bit_buf_len_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the length of the data held by a buffer, in bytes.</p>
<p>Partial bytes will be rounded up (i.e., 9 bits stored == 2 bytes).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data length (in bytes) </dd></dl>

</div>
</div>
<a id="ga34ef8fbf2d52417356bbd459b1894e94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34ef8fbf2d52417356bbd459b1894e94">&#9670;&nbsp;</a></span>M_bit_buf_peek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const M_uint8* M_bit_buf_peek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return pointer to internal buffer data.</p>
<p>The internal data is stored as an array of bytes. The first bit in the buffer is always guaranteed to be the highest bit in the first byte, second bit in the buffer is the next highest bit, and so on. The implementation guarantees this will always be the case, regardless of what operations you may have done on the bit buffer.</p>
<dl class="section warning"><dt>Warning</dt><dd>The returned pointer may be invalidated when you add data to the buffer. For safety, it should be used immediately after you call <a class="el" href="group__m__bit__buf.html#ga34ef8fbf2d52417356bbd459b1894e94">M_bit_buf_peek()</a>, and then discarded.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to current internal buffer data </dd></dl>

</div>
</div>
<a id="ga0888b5a0f90955716e59c9b8ac646145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0888b5a0f90955716e59c9b8ac646145">&#9670;&nbsp;</a></span>M_bit_buf_truncate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_bit_buf_truncate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Truncate the length of the data to the specified size (in bits).</p>
<p>Removes data from the end of the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len_bits</td><td>Length (in bits) to truncate buffer to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6053e2932cb614c5adc6649587a505a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6053e2932cb614c5adc6649587a505a1">&#9670;&nbsp;</a></span>M_bit_buf_fill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_bit_buf_fill </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint8&#160;</td>
          <td class="paramname"><em>bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a number of repetitions of the same bit to the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bit</td><td>1 (to add a set bit) or 0 (to add an unset bit) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len_bits</td><td>Number of bits to add </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad490e244ebedcdfe88f41eb74d853369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad490e244ebedcdfe88f41eb74d853369">&#9670;&nbsp;</a></span>M_bit_buf_add_bit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_bit_buf_add_bit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint8&#160;</td>
          <td class="paramname"><em>bit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add the given bit to the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bit</td><td>1 (to add a set bit) or 0 (to add an unset bit) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga81c50d3c8357be3f55bcdb79c1288b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81c50d3c8357be3f55bcdb79c1288b37">&#9670;&nbsp;</a></span>M_bit_buf_add_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_bit_buf_add_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add bits from the given variable-length chunk of data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bytes</td><td>data to add </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nbits</td><td>number of bits to add from the given data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga584cbab4ab98afcc8fd43db950a922ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga584cbab4ab98afcc8fd43db950a922ad">&#9670;&nbsp;</a></span>M_bit_buf_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_bit_buf_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga13c8cbc06199bff5786f20097e2087fa">M_bit_buf_pad_t</a>&#160;</td>
          <td class="paramname"><em>pad</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add bits from a given integer to the buffer.</p>
<p>Note that the bit region being read is assumed to be justified against the least-significant end of the integer, though the bits within that region are read from most-significant to least-significant.</p>
<p>For example, if bits == 0x8F == (10001011)b, and nbits == 4, the bits "1011" will be added to the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bits</td><td>Value to draw bits from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nbits</td><td>Number of bits to use (counted from least-significant end, right-to-left) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pad</td><td>Should any bits be added to force the result to end on a byte-boundary </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga46291c92bba8b65624d0b6859098a7f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46291c92bba8b65624d0b6859098a7f6">&#9670;&nbsp;</a></span>M_bit_buf_add_bitstr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_bit_buf_add_bitstr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bitstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga13c8cbc06199bff5786f20097e2087fa">M_bit_buf_pad_t</a>&#160;</td>
          <td class="paramname"><em>pad</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add bits from a given binary-ascii string to the buffer.</p>
<p>A binary-ascii string is a list of 1 and 0 characters (e.g., "100010").</p>
<p>Any whitespace in the string will be silently ignored. So, " 1000  1 0" will add the same data as "100010".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bitstr</td><td>String to draw bits from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pad</td><td>Should any bits be added to force the result to end on a byte-boundary</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_FALSE on error (given bitstr had characters other than '0', '1', or whitespace). </dd></dl>

</div>
</div>
<a id="ga72e74bdb7f3332847d5e0ff317a07902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72e74bdb7f3332847d5e0ff317a07902">&#9670;&nbsp;</a></span>M_bit_buf_reserve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_bit_buf_reserve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__bit__buf.html#ga3e5bc7e87a3b747e9a0ec16793913a6e">M_bit_buf_t</a> *&#160;</td>
          <td class="paramname"><em>bbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provide hint to buffer about how many bits we're going to add.</p>
<p>If you know ahead of time how many bits are going to get added to the buffer, you can use this function to grow the buffer all at once ahead of time, instead of on-demand as the buffer runs out of internal space.</p>
<p>This is provided purely as a performance hint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bbuf</td><td>Bit buffer </td></tr>
    <tr><td class="paramname">nbits</td><td>Number of bits that we expect to add in the future </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Feb 20 2018 12:46:11 for Mstdlib-1.0.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
