<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mstdlib-1.0.0: SQL Report Generation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mstdlib-1.0.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__m__sql__report.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SQL Report Generation<div class="ingroups"><a class="el" href="group__m__sql.html">SQL Subsystem</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gabb3ea44dceb739bea17900689f1168e9"><td class="memItemLeft" align="right" valign="top">typedef struct M_sql_report&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a></td></tr>
<tr class="separator:gabb3ea44dceb739bea17900689f1168e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b0888596e0fe6b0c8cbe3a17fbfb458"><td class="memItemLeft" align="right" valign="top">typedef struct M_sql_report_state&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#ga0b0888596e0fe6b0c8cbe3a17fbfb458">M_sql_report_state_t</a></td></tr>
<tr class="separator:ga0b0888596e0fe6b0c8cbe3a17fbfb458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad119e6f3df43fd4f5f6a077136096a1d"><td class="memItemLeft" align="right" valign="top">typedef M_bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#gad119e6f3df43fd4f5f6a077136096a1d">M_sql_report_fetch_cb_t</a>) (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, void *arg)</td></tr>
<tr class="separator:gad119e6f3df43fd4f5f6a077136096a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2c299e72a41470e4afde3e83808fbca"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#gab2c299e72a41470e4afde3e83808fbca">M_sql_report_cell_cb_t</a>) (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, void *arg, size_t row, ssize_t col, <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *buf, M_bool *is_null)</td></tr>
<tr class="separator:gab2c299e72a41470e4afde3e83808fbca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga1c7af596258c77ade7036067ab197663"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#ga1c7af596258c77ade7036067ab197663">M_sql_report_flags_t</a> { <br />
&#160;&#160;<a class="el" href="group__m__sql__report.html#gga1c7af596258c77ade7036067ab197663aa1b29e4cc27fcf3aa0d4640f333b1248">M_SQL_REPORT_FLAG_NONE</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group__m__sql__report.html#gga1c7af596258c77ade7036067ab197663ae653082648a8e7a52158dd2f26008a97">M_SQL_REPORT_FLAG_ALWAYS_ENCAP</a> = 1 &lt;&lt; 0, 
<br />
&#160;&#160;<a class="el" href="group__m__sql__report.html#gga1c7af596258c77ade7036067ab197663a0672e8006ac37a730c73891632c79527">M_SQL_REPORT_FLAG_OMIT_HEADERS</a> = 1 &lt;&lt; 1, 
<br />
&#160;&#160;<a class="el" href="group__m__sql__report.html#gga1c7af596258c77ade7036067ab197663a6b0b26bc5c52bc62418c8c01a0f5692c">M_SQL_REPORT_FLAG_PASSTHRU_UNLISTED</a> = 1 &lt;&lt; 2
<br />
 }</td></tr>
<tr class="separator:ga1c7af596258c77ade7036067ab197663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbce3c1366f175c2a43b977798307186"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a> { <br />
&#160;&#160;<a class="el" href="group__m__sql__report.html#ggafbce3c1366f175c2a43b977798307186ae832c883f31e227d814e530699f59949">M_SQL_REPORT_ERROR</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group__m__sql__report.html#ggafbce3c1366f175c2a43b977798307186a1ebadcbe8578b669d2f90cb7c12f4d0f">M_SQL_REPORT_SUCCESS</a> = 1, 
<br />
&#160;&#160;<a class="el" href="group__m__sql__report.html#ggafbce3c1366f175c2a43b977798307186ad5233d762937d91b2488117db494ade7">M_SQL_REPORT_SKIP_ROW</a> = 2
<br />
 }</td></tr>
<tr class="separator:gafbce3c1366f175c2a43b977798307186"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6af547bf3235cf413d5b346bd5bee2d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#ga6af547bf3235cf413d5b346bd5bee2d3">M_sql_report_create</a> (M_uint32 flags)</td></tr>
<tr class="separator:ga6af547bf3235cf413d5b346bd5bee2d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e212972766fa09b4248760f27b61cfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#ga6e212972766fa09b4248760f27b61cfd">M_sql_report_destroy</a> (<a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *report)</td></tr>
<tr class="separator:ga6e212972766fa09b4248760f27b61cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab74e893ce4166ae1324055e738aa61ae"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#gab74e893ce4166ae1324055e738aa61ae">M_sql_report_set_delims</a> (<a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *report, const unsigned char *field_delim, size_t field_delim_size, const unsigned char *row_delim, size_t row_delim_size, const unsigned char *field_encaps, size_t field_encaps_size, const unsigned char *field_escape, size_t field_escape_size)</td></tr>
<tr class="separator:gab74e893ce4166ae1324055e738aa61ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40f0db9b5ce99177eeef90f65124f2ad"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#ga40f0db9b5ce99177eeef90f65124f2ad">M_sql_report_set_fetch_cb</a> (<a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *report, <a class="el" href="group__m__sql__report.html#gad119e6f3df43fd4f5f6a077136096a1d">M_sql_report_fetch_cb_t</a> fetch_cb)</td></tr>
<tr class="separator:ga40f0db9b5ce99177eeef90f65124f2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf35e7071eab1dcefe45e51dd88ffe150"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#gaf35e7071eab1dcefe45e51dd88ffe150">M_sql_report_cell_cb_passthru</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, void *arg, size_t row, ssize_t col, <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *buf, M_bool *is_null)</td></tr>
<tr class="separator:gaf35e7071eab1dcefe45e51dd88ffe150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2379246080de048be3ab11c45d8362f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#ga2379246080de048be3ab11c45d8362f3">M_sql_report_cell_cb_int2dec</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, void *arg, size_t row, ssize_t col, <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *buf, M_bool *is_null)</td></tr>
<tr class="separator:ga2379246080de048be3ab11c45d8362f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdc6d8e71c1992cd3f9752b173d412f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#gabdc6d8e71c1992cd3f9752b173d412f4">M_sql_report_cell_cb_int5dec</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, void *arg, size_t row, ssize_t col, <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *buf, M_bool *is_null)</td></tr>
<tr class="separator:gabdc6d8e71c1992cd3f9752b173d412f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga746ec48885660a83376239faacdea367"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#ga746ec48885660a83376239faacdea367">M_sql_report_cell_cb_boolyesno</a> (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, void *arg, size_t row, ssize_t col, <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *buf, M_bool *is_null)</td></tr>
<tr class="separator:ga746ec48885660a83376239faacdea367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccee8d2f61a20b6a34b5f6b5f043f6a9"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#gaccee8d2f61a20b6a34b5f6b5f043f6a9">M_sql_report_add_column</a> (<a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *report, const char *name, <a class="el" href="group__m__sql__report.html#gab2c299e72a41470e4afde3e83808fbca">M_sql_report_cell_cb_t</a> cb, const char *sql_col_name, ssize_t sql_col_idx)</td></tr>
<tr class="separator:gaccee8d2f61a20b6a34b5f6b5f043f6a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa488e7db2277ecac6dca66c9878f3b4"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#gafa488e7db2277ecac6dca66c9878f3b4">M_sql_report_hide_column</a> (<a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *report, const char *sql_col_name, ssize_t sql_col_idx)</td></tr>
<tr class="separator:gafa488e7db2277ecac6dca66c9878f3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd1e167bbf4cb627e13c37fcbc5c2edb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#gadd1e167bbf4cb627e13c37fcbc5c2edb">M_sql_report_process</a> (const <a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *report, <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, void *arg, char **out, size_t *out_len, char *error, size_t error_size)</td></tr>
<tr class="separator:gadd1e167bbf4cb627e13c37fcbc5c2edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ca8f003494aee9d708722ecf72479c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__sql__report.html#ga5ca8f003494aee9d708722ecf72479c2">M_sql_report_process_partial</a> (const <a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *report, <a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, size_t max_rows, void *arg, <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *buf, <a class="el" href="group__m__sql__report.html#ga0b0888596e0fe6b0c8cbe3a17fbfb458">M_sql_report_state_t</a> **state, char *error, size_t error_size)</td></tr>
<tr class="separator:ga5ca8f003494aee9d708722ecf72479c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>SQL Report Generation </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gabb3ea44dceb739bea17900689f1168e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb3ea44dceb739bea17900689f1168e9">&#9670;&nbsp;</a></span>M_sql_report_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct M_sql_report <a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Object holding the definition for report processing </p>

</div>
</div>
<a id="ga0b0888596e0fe6b0c8cbe3a17fbfb458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b0888596e0fe6b0c8cbe3a17fbfb458">&#9670;&nbsp;</a></span>M_sql_report_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct M_sql_report_state <a class="el" href="group__m__sql__report.html#ga0b0888596e0fe6b0c8cbe3a17fbfb458">M_sql_report_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Object holding state data for <a class="el" href="group__m__sql__report.html#ga5ca8f003494aee9d708722ecf72479c2">M_sql_report_process_partial()</a> </p>

</div>
</div>
<a id="gad119e6f3df43fd4f5f6a077136096a1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad119e6f3df43fd4f5f6a077136096a1d">&#9670;&nbsp;</a></span>M_sql_report_fetch_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef M_bool(* M_sql_report_fetch_cb_t) (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, void *arg)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prototype for fetch callback registered with <a class="el" href="group__m__sql__report.html#ga40f0db9b5ce99177eeef90f65124f2ad">M_sql_report_set_fetch_cb()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Statement handle object after fetch </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Argument passed to <a class="el" href="group__m__sql__report.html#gadd1e167bbf4cb627e13c37fcbc5c2edb">M_sql_report_process()</a> or <a class="el" href="group__m__sql__report.html#ga5ca8f003494aee9d708722ecf72479c2">M_sql_report_process_partial()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success or M_FALSE on failure which will cause report processing to stop </dd></dl>

</div>
</div>
<a id="gab2c299e72a41470e4afde3e83808fbca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2c299e72a41470e4afde3e83808fbca">&#9670;&nbsp;</a></span>M_sql_report_cell_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a>(* M_sql_report_cell_cb_t) (<a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *stmt, void *arg, size_t row, ssize_t col, <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *buf, M_bool *is_null)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function callback prototype to use for cell formatting.</p>
<p>This function signature is used to process every column in a report, the output buffer is passed in by reference of a certain length. If the buffer is insufficient for the needs of the formatting function, the caller should allocate a new pointer instead and set it to the new buffer location. The report generation function will automatically free the callback's buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Pointer to statement object being processed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Custom user-supplied argument for registered callbacks. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">row</td><td>Row of result set currently being processed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">col</td><td>Index of result set column being processed, or -1 if no specific column is referenced. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pre-allocated <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> buffer is provided to write column output. The provided buffer is empty, it is not pre-filled with column data as 'col' may be -1 or otherwise not a 1:1 mapping between input and output columns. It is up to the person implementing the callback to use the normal <a class="el" href="group__m__sql__stmt__result.html">M_sql_stmt_result_*() </a> functions to get the desired data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">is_null</td><td>Output parameter that if set to M_TRUE, will ignore any contents in buf. It will also prevent quoting of the output cell so the output differentiates a blank cell (quoted) vs a NULL cell (unquoted). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd>
<dd>
<a class="el" href="group__m__sql__report.html#ggafbce3c1366f175c2a43b977798307186a1ebadcbe8578b669d2f90cb7c12f4d0f">M_SQL_REPORT_SUCCESS</a> on success or <a class="el" href="group__m__sql__report.html#ggafbce3c1366f175c2a43b977798307186ae832c883f31e227d814e530699f59949">M_SQL_REPORT_ERROR</a> on failure which will cause report processing to stop or to just skip the row, return <a class="el" href="group__m__sql__report.html#ggafbce3c1366f175c2a43b977798307186ad5233d762937d91b2488117db494ade7">M_SQL_REPORT_SKIP_ROW</a>. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga1c7af596258c77ade7036067ab197663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c7af596258c77ade7036067ab197663">&#9670;&nbsp;</a></span>M_sql_report_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__sql__report.html#ga1c7af596258c77ade7036067ab197663">M_sql_report_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga1c7af596258c77ade7036067ab197663aa1b29e4cc27fcf3aa0d4640f333b1248"></a>M_SQL_REPORT_FLAG_NONE&#160;</td><td class="fielddoc"><p>No special flags </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1c7af596258c77ade7036067ab197663ae653082648a8e7a52158dd2f26008a97"></a>M_SQL_REPORT_FLAG_ALWAYS_ENCAP&#160;</td><td class="fielddoc"><p>Always encapsulate the fields, even if there are no conflicting characters. However, NULL fields will still never be encapsulated so NULL vs empty strings can be determined by the output. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1c7af596258c77ade7036067ab197663a0672e8006ac37a730c73891632c79527"></a>M_SQL_REPORT_FLAG_OMIT_HEADERS&#160;</td><td class="fielddoc"><p>Do not output the first row as headers </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1c7af596258c77ade7036067ab197663a6b0b26bc5c52bc62418c8c01a0f5692c"></a>M_SQL_REPORT_FLAG_PASSTHRU_UNLISTED&#160;</td><td class="fielddoc"><p>By default, all columns in the output report must be specified. This flag will use the column name returned from the SQL server as the header and pass the data thru with no manipulation. Other columns may be overwritten or added, or even suppressed. When set, columns will be output in the order returned from the SQL server, additional added columns will be appended to the end. </p>
</td></tr>
</table>

</div>
</div>
<a id="gafbce3c1366f175c2a43b977798307186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbce3c1366f175c2a43b977798307186">&#9670;&nbsp;</a></span>M_sql_report_cberror_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error conditions returned by <a class="el" href="group__m__sql__report.html#gad119e6f3df43fd4f5f6a077136096a1d">M_sql_report_fetch_cb_t</a> </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafbce3c1366f175c2a43b977798307186ae832c883f31e227d814e530699f59949"></a>M_SQL_REPORT_ERROR&#160;</td><td class="fielddoc"><p>Error, abort report generation </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafbce3c1366f175c2a43b977798307186a1ebadcbe8578b669d2f90cb7c12f4d0f"></a>M_SQL_REPORT_SUCCESS&#160;</td><td class="fielddoc"><p>Success </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafbce3c1366f175c2a43b977798307186ad5233d762937d91b2488117db494ade7"></a>M_SQL_REPORT_SKIP_ROW&#160;</td><td class="fielddoc"><p>Do not output this row, but continue </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6af547bf3235cf413d5b346bd5bee2d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6af547bf3235cf413d5b346bd5bee2d3">&#9670;&nbsp;</a></span>M_sql_report_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a>* M_sql_report_create </td>
          <td>(</td>
          <td class="paramtype">M_uint32&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a report object for processing SQL query results into a delimited data form.</p>
<p>Report processing is often used to turn SQL query results into delimited data like CSV.</p>
<p>Each column to be output must be defined, or set <a class="el" href="group__m__sql__report.html#gga1c7af596258c77ade7036067ab197663a6b0b26bc5c52bc62418c8c01a0f5692c">M_SQL_REPORT_FLAG_PASSTHRU_UNLISTED</a> to pass through the data elements in their native form.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Bitmap of <a class="el" href="group__m__sql__report.html#ga1c7af596258c77ade7036067ab197663">M_sql_report_flags_t</a> values to control behavior. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Initialized report object </dd></dl>

</div>
</div>
<a id="ga6e212972766fa09b4248760f27b61cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e212972766fa09b4248760f27b61cfd">&#9670;&nbsp;</a></span>M_sql_report_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_sql_report_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *&#160;</td>
          <td class="paramname"><em>report</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the report object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">report</td><td>Report object to be destroyed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab74e893ce4166ae1324055e738aa61ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab74e893ce4166ae1324055e738aa61ae">&#9670;&nbsp;</a></span>M_sql_report_set_delims()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_report_set_delims </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *&#160;</td>
          <td class="paramname"><em>report</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>field_delim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>field_delim_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>row_delim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row_delim_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>field_encaps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>field_encaps_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>field_escape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>field_escape_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set desired delimiters, encapsulation, and escaping sequences to be used for the output data.</p>
<p>If this function is not called, the defaults are used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">report</td><td>Initialized report object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_delim</td><td>Delimiter to use between fields, default is a comma (,). NULL to not change. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_delim_size</td><td>Number of characters used in field delimiter. Max size 8. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">row_delim</td><td>Delimiter to use between rows, default is a new line (\r\n - CRLF). NULL to not change. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">row_delim_size</td><td>Number of characters used in row delimiter. Max size 8. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_encaps</td><td>Encapsulation character to use for field data that may contain the field_delim or row_delim, default is a double quote ("). NULL to not change. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_encaps_size</td><td>Number of characters used in field encapsulation. Max size 8. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_escape</td><td>Escape character to use if the field contains the encapsulation char, default is the same as the encapsulation, a double quote ("), as this is what is defined by RFC4180 (CSV) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_escape_size</td><td>Number of characters used in field escaping. Max size 8. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on usage error. </dd></dl>

</div>
</div>
<a id="ga40f0db9b5ce99177eeef90f65124f2ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga40f0db9b5ce99177eeef90f65124f2ad">&#9670;&nbsp;</a></span>M_sql_report_set_fetch_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_report_set_fetch_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *&#160;</td>
          <td class="paramname"><em>report</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__sql__report.html#gad119e6f3df43fd4f5f6a077136096a1d">M_sql_report_fetch_cb_t</a>&#160;</td>
          <td class="paramname"><em>fetch_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a callback to be automatically called any time <a class="el" href="group__m__sql__stmt.html#ga430124c9f04db0408333b7f5e5984102">M_sql_stmt_fetch()</a> is called successfully from within <a class="el" href="group__m__sql__report.html#gadd1e167bbf4cb627e13c37fcbc5c2edb">M_sql_report_process()</a> or <a class="el" href="group__m__sql__report.html#ga5ca8f003494aee9d708722ecf72479c2">M_sql_report_process_partial()</a>.</p>
<p>This may be used if some bulk operation needs to process the data just fetched prior to processing the individual rows that were fetched.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">report</td><td>Initialized report object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fetch_cb</td><td>Callback to run every time <a class="el" href="group__m__sql__stmt.html#ga430124c9f04db0408333b7f5e5984102">M_sql_stmt_fetch()</a> is successfully called. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, or M_FALSE on error </dd></dl>

</div>
</div>
<a id="gaf35e7071eab1dcefe45e51dd88ffe150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf35e7071eab1dcefe45e51dd88ffe150">&#9670;&nbsp;</a></span>M_sql_report_cell_cb_passthru()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a> M_sql_report_cell_cb_passthru </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_bool *&#160;</td>
          <td class="paramname"><em>is_null</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback template for column passthru.</p>
<p>Any data on file will be passed-thru as-is, except for Binary data which will be automatically base64 encoded as the report output mandates string data only. If the cell is NULL, it will be output as blank. </p>

</div>
</div>
<a id="ga2379246080de048be3ab11c45d8362f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2379246080de048be3ab11c45d8362f3">&#9670;&nbsp;</a></span>M_sql_report_cell_cb_int2dec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a> M_sql_report_cell_cb_int2dec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_bool *&#160;</td>
          <td class="paramname"><em>is_null</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback template for outputting an integer column stored with a 2-digit implied decimal point as an actual decimal with 2 decimal places. E.g.:</p><ul>
<li>1 -&gt; 0.01</li>
<li>100 -&gt; 1.00 If the cell is NULL, a blank column will be output instead of 0.00 </li>
</ul>

</div>
</div>
<a id="gabdc6d8e71c1992cd3f9752b173d412f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabdc6d8e71c1992cd3f9752b173d412f4">&#9670;&nbsp;</a></span>M_sql_report_cell_cb_int5dec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a> M_sql_report_cell_cb_int5dec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_bool *&#160;</td>
          <td class="paramname"><em>is_null</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback template for outputting an integer column stored with a 5-digit implied decimal point as an actual decimal with 5 decimal places. E.g.:</p><ul>
<li>1 -&gt; 0.00001</li>
<li>100000 -&gt; 1.00000 If the cell is NULL, a blank column will be output instead of 0.00000 </li>
</ul>

</div>
</div>
<a id="ga746ec48885660a83376239faacdea367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga746ec48885660a83376239faacdea367">&#9670;&nbsp;</a></span>M_sql_report_cell_cb_boolyesno()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__report.html#gafbce3c1366f175c2a43b977798307186">M_sql_report_cberror_t</a> M_sql_report_cell_cb_boolyesno </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_bool *&#160;</td>
          <td class="paramname"><em>is_null</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback template for outputting a boolean value column with yes or no.</p>
<p>If the cell is NULL, a blank column will be output instead of yes or no. </p>

</div>
</div>
<a id="gaccee8d2f61a20b6a34b5f6b5f043f6a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaccee8d2f61a20b6a34b5f6b5f043f6a9">&#9670;&nbsp;</a></span>M_sql_report_add_column()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_report_add_column </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *&#160;</td>
          <td class="paramname"><em>report</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__sql__report.html#gab2c299e72a41470e4afde3e83808fbca">M_sql_report_cell_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql_col_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>sql_col_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register column to be output in report.</p>
<p>If <a class="el" href="group__m__sql__report.html#gga1c7af596258c77ade7036067ab197663a6b0b26bc5c52bc62418c8c01a0f5692c">M_SQL_REPORT_FLAG_PASSTHRU_UNLISTED</a> was used to initialize the report object, then if the sql_col_name or sql_col_idx matches a column (rather than being NULL and -1, respectively), then instead of adding a column, it overwrites its behavior ... either output column name, or the default callback can be changed from the default of passthrough.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">report</td><td>Initialized report object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of column (used for headers in report) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Callback to use for formatting the column. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sql_col_name</td><td>Optional, use NULL if not provieded. Retuned SQL column name returned with the data from the SQL server. This will be dereferenced and passed to the callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sql_col_idx</td><td>Optional, use -1 if not provided. Returned SQL column index returned with the data from the SQL server. This will be passed to the callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on failure (misuse) </dd></dl>

</div>
</div>
<a id="gafa488e7db2277ecac6dca66c9878f3b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafa488e7db2277ecac6dca66c9878f3b4">&#9670;&nbsp;</a></span>M_sql_report_hide_column()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_sql_report_hide_column </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *&#160;</td>
          <td class="paramname"><em>report</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql_col_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>sql_col_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hide a column from a report if <a class="el" href="group__m__sql__report.html#gga1c7af596258c77ade7036067ab197663a6b0b26bc5c52bc62418c8c01a0f5692c">M_SQL_REPORT_FLAG_PASSTHRU_UNLISTED</a> was set.</p>
<p>When <a class="el" href="group__m__sql__report.html#gga1c7af596258c77ade7036067ab197663a6b0b26bc5c52bc62418c8c01a0f5692c">M_SQL_REPORT_FLAG_PASSTHRU_UNLISTED</a> all columns in a report will be listed. This can be used to hide specific columns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">report</td><td>Initialized report object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sql_col_name</td><td>Conditional. Name of column to hide, or NULL. Must be set if sql_col_idx is -1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sql_col_idx</td><td>Conditional. Index of column to hide, or -1. Must be set if sql_col_name is NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on misuse. </dd></dl>

</div>
</div>
<a id="gadd1e167bbf4cb627e13c37fcbc5c2edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd1e167bbf4cb627e13c37fcbc5c2edb">&#9670;&nbsp;</a></span>M_sql_report_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> M_sql_report_process </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *&#160;</td>
          <td class="paramname"><em>report</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>out_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>error_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process the results from the SQL statement based on the report template configured.</p>
<p>This function will call the registered report output generation functions to output each desired column of the report. If row fetching is used due to <a class="el" href="group__m__sql__stmt.html#ga224186bd19c5a87ceec4d7110d1e9647">M_sql_stmt_set_max_fetch_rows()</a>, this will automatically call <a class="el" href="group__m__sql__stmt.html#ga430124c9f04db0408333b7f5e5984102">M_sql_stmt_fetch()</a> until all rows are returned.</p>
<p>No state is tracked in the report handle, it may be reused, and used concurrently if the implementor decides to cache the handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">report</td><td>Initialized report object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Executed statement handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Custom user-supplied argument to be passed through to registered callbacks for column formatting. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Formatted report data is returned in this variable and must be free'd by the caller. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_len</td><td>Optional. Returned length of output data. Should be equivalent to M_str_len(out), but on huge reports may be more efficient to already know the size. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Buffer to hold error message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error_size</td><td>Size of error buffer passed in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea4321145ef534b2263011566a66b8bef8">M_SQL_ERROR_SUCCESS</a> on success, or one of the <a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> error conditions. If an internal error is generated, the text from the error can be found in the statement handle's error buffer via <a class="el" href="group__m__sql__stmt.html#ga08eaa960f3acebe383ed05cd4d749b3f">M_sql_stmt_get_error_string()</a>. </dd></dl>

</div>
</div>
<a id="ga5ca8f003494aee9d708722ecf72479c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ca8f003494aee9d708722ecf72479c2">&#9670;&nbsp;</a></span>M_sql_report_process_partial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> M_sql_report_process_partial </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__sql__report.html#gabb3ea44dceb739bea17900689f1168e9">M_sql_report_t</a> *&#160;</td>
          <td class="paramname"><em>report</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__sql__stmt.html#ga4a726e8b7d1b5cffc6f92fdb3e8fb498">M_sql_stmt_t</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__sql__report.html#ga0b0888596e0fe6b0c8cbe3a17fbfb458">M_sql_report_state_t</a> **&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>error_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process a chunk of report data rather than the whole report.</p>
<p>This function is useful if it is necessary to send a report in pieces either to a file or via a network connection, especially if the report may become extremely large and exceed the memory capabilities of the machine.</p>
<p>This function will be called in a loop until the return value is NOT <a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea18a28fa2a16e66ca214f7d3dcd3f8b00">M_SQL_ERROR_SUCCESS_ROW</a>, it will fill in the user-supplied <a class="el" href="group__m__buf.html#ga6c543ecf0004fc310faa23c6ed8b267f">M_buf_t</a> with the data. It is up to the user to clear the data from this buffer if the same buffer handle is passed in, or create a new handle, otherwise data will be appended.</p>
<dl class="section warning"><dt>Warning</dt><dd>The caller MUST call this repeatedly until a return value other than <a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea18a28fa2a16e66ca214f7d3dcd3f8b00">M_SQL_ERROR_SUCCESS_ROW</a> is returned or otherwise risk memory leaks, or possibly holding a lock on an SQL connection.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">report</td><td>Initialized report object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Executed statement handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_rows</td><td>Maximum number of rows to output per pass. Or 0 to output all. Typically it makes more sense to just call <a class="el" href="group__m__sql__report.html#gadd1e167bbf4cb627e13c37fcbc5c2edb">M_sql_report_process()</a> if you want to use 0 for this value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Custom user-supplied argument to be passed through to registered callbacks for column formatting. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buf</td><td>User-supplied buffer to append report data to. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">state</td><td>Pointer to an <a class="el" href="group__m__sql__report.html#ga0b0888596e0fe6b0c8cbe3a17fbfb458">M_sql_report_state_t</a> * object, initialized to NULL on first pass. When there are more rows available, pass the same returned pointer back in. When the report generation is complete (last pass), this pointer will be automatically cleaned up. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Buffer to hold error message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error_size</td><td>Size of error buffer passed in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea4321145ef534b2263011566a66b8bef8">M_SQL_ERROR_SUCCESS</a> on successful completion of the report, or <a class="el" href="group__m__sql__error.html#ggaae10ff11eb7d5583afcffa6ec87c753ea18a28fa2a16e66ca214f7d3dcd3f8b00">M_SQL_ERROR_SUCCESS_ROW</a> if this function must be called again to get the remaining report data. On failure, one of the <a class="el" href="group__m__sql__error.html#gaae10ff11eb7d5583afcffa6ec87c753e">M_sql_error_t</a> errors may be returned </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Feb 20 2018 12:46:13 for Mstdlib-1.0.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
