<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mstdlib-1.0.0: State Machine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mstdlib-1.0.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__m__state__machine.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">State Machine<div class="ingroups"><a class="el" href="group__mstdlib__base.html">Base</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gad576e0cce8ea03b5bfcffabfacfe6c14"><td class="memItemLeft" align="right" valign="top">typedef struct M_state_machine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a></td></tr>
<tr class="separator:gad576e0cce8ea03b5bfcffabfacfe6c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae15e0f0b71c657e70aab62f619c10bc1"><td class="memItemLeft" align="right" valign="top">typedef struct M_state_machine_cleanup&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a></td></tr>
<tr class="separator:gae15e0f0b71c657e70aab62f619c10bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed19ff69d4d8d638185fa5c1a81201a1"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gaed19ff69d4d8d638185fa5c1a81201a1">M_state_machine_trace_cb</a>) (<a class="el" href="group__m__state__machine.html#gaad6bf4781e8e64a440b519722daaae1a">M_state_machine_trace_t</a> trace, M_uint64 mndescr, const char *mdescr, M_uint64 sndescr, const char *sdescr, const char *fdescr, M_uint64 id, <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> status, M_bool run_sub, M_uint64 next_id, void *thunk)</td></tr>
<tr class="separator:gaed19ff69d4d8d638185fa5c1a81201a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d92a9e014da0a2374e2a7a97f23d03a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga4d92a9e014da0a2374e2a7a97f23d03a">M_state_machine_state_cb</a>) (void *data, M_uint64 *next)</td></tr>
<tr class="separator:ga4d92a9e014da0a2374e2a7a97f23d03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab581c5a07d70888ac7651fcc8f464f8a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gab581c5a07d70888ac7651fcc8f464f8a">M_state_machine_cleanup_cb</a>) (void *data, <a class="el" href="group__m__state__machine.html#gab672e2df471445216b41401fe032fcb8">M_state_machine_cleanup_reason_t</a> reason, M_uint64 *next)</td></tr>
<tr class="separator:gab581c5a07d70888ac7651fcc8f464f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a7a8a6fa579f98d8f86064e3065d692"><td class="memItemLeft" align="right" valign="top">typedef M_bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga5a7a8a6fa579f98d8f86064e3065d692">M_state_machine_pre_cb</a>) (void *data, <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> *status, M_uint64 *next)</td></tr>
<tr class="separator:ga5a7a8a6fa579f98d8f86064e3065d692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4534c36abf95243553d30d2869f417e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gaa4534c36abf95243553d30d2869f417e">M_state_machine_post_cb</a>) (void *data, <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> sub_status, M_uint64 *next)</td></tr>
<tr class="separator:gaa4534c36abf95243553d30d2869f417e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac270a27ce03a23e30d86788b2103268b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> { <br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba57269afb43b1a27ce27f87d634209773">M_STATE_MACHINE_STATUS_NONE</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba99a33d04268a2612969eaf95a66aaa55">M_STATE_MACHINE_STATUS_NEXT</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba00a9fe11d129486151f77324808b453c">M_STATE_MACHINE_STATUS_PREV</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba98647ee00b1c291f4e2c8e75b07d877d">M_STATE_MACHINE_STATUS_CONTINUE</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268baf452537f8039e4b896113eca65214891">M_STATE_MACHINE_STATUS_ERROR_STATE</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba268c02ad158bd9a779c2a1226704a672">M_STATE_MACHINE_STATUS_WAIT</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268bada3d7e7522252be04d8a9456042ed74e">M_STATE_MACHINE_STATUS_DONE</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba0004ca696299cafafef6934f0eb34a3c">M_STATE_MACHINE_STATUS_STOP_CLEANUP</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba162df2561b4fb89d4f0606d82d35050d">M_STATE_MACHINE_STATUS_ERROR_INVALID</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268bad8f4ce671db51b3e2faf1a42f32e7f23">M_STATE_MACHINE_STATUS_ERROR_BAD_ID</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268bab16261112a68085a3f705220fd96efd0">M_STATE_MACHINE_STATUS_ERROR_NO_NEXT</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba451c78a9dab3fecb06deadcf46c133fd">M_STATE_MACHINE_STATUS_ERROR_BAD_NEXT</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268bab73e0e9087d1fa9db0209a4a917d0d33">M_STATE_MACHINE_STATUS_ERROR_SELF_NEXT</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba5d6bced3cb0a3fad3018075aa532e447">M_STATE_MACHINE_STATUS_ERROR_NO_PREV</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba333b05b0d99616f9b5089c6be3953938">M_STATE_MACHINE_STATUS_ERROR_INF_CONT</a>
<br />
 }</td></tr>
<tr class="separator:gac270a27ce03a23e30d86788b2103268b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5172f2a4ea588087e85b9f44f99da78a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga5172f2a4ea588087e85b9f44f99da78a">M_state_machine_flags_t</a> { <br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#gga5172f2a4ea588087e85b9f44f99da78aa3996716d4796593cede212cbd06e22ec">M_STATE_MACHINE_NONE</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#gga5172f2a4ea588087e85b9f44f99da78aa3ec5b92aa64afcdd493014eaa7ac7296">M_STATE_MACHINE_SINGLE_PREV</a> = 1 &lt;&lt; 1, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#gga5172f2a4ea588087e85b9f44f99da78aacf8eb64aaa29c1e44f6d7794ec03d92e">M_STATE_MACHINE_CONTINUE_LOOP</a> = 1 &lt;&lt; 2, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#gga5172f2a4ea588087e85b9f44f99da78aa8b7974ebfcd1294be4874e5b1d179b57">M_STATE_MACHINE_SELF_CALL</a> = 1 &lt;&lt; 3, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#gga5172f2a4ea588087e85b9f44f99da78aa0b61d0aa1017f6e101af87f8fb821fc9">M_STATE_MACHINE_DONE_CLEANUP</a> = 1 &lt;&lt; 4, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#gga5172f2a4ea588087e85b9f44f99da78aade88e2d1260b7c7d0411b0beb89fdcaf">M_STATE_MACHINE_ONE_CLEANUP</a> = 1 &lt;&lt; 5, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#gga5172f2a4ea588087e85b9f44f99da78aa9f6b40e4882711b10f8cbbc3d5a02eee">M_STATE_MACHINE_EXPLICIT_NEXT</a> = 1 &lt;&lt; 6, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#gga5172f2a4ea588087e85b9f44f99da78aa6a02e4765ab36828e995612049845cf6">M_STATE_MACHINE_LINEAR_END</a> = 1 &lt;&lt; 7
<br />
 }</td></tr>
<tr class="separator:ga5172f2a4ea588087e85b9f44f99da78a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab672e2df471445216b41401fe032fcb8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gab672e2df471445216b41401fe032fcb8">M_state_machine_cleanup_reason_t</a> { <br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggab672e2df471445216b41401fe032fcb8ac22cccc64904eec3073e2e14eb1e480f">M_STATE_MACHINE_CLEANUP_REASON_NONE</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggab672e2df471445216b41401fe032fcb8aa0d2482e1b4dd2aebdd9a20f7f7ada6f">M_STATE_MACHINE_CLEANUP_REASON_DONE</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggab672e2df471445216b41401fe032fcb8a9148ea6a69750a3154c6faaa31675753">M_STATE_MACHINE_CLEANUP_REASON_ERROR</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggab672e2df471445216b41401fe032fcb8a25cafb613c80a31223ab097bd13d5181">M_STATE_MACHINE_CLEANUP_REASON_RESET</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggab672e2df471445216b41401fe032fcb8a253b2c9014bd54cdbc8d65a28e228290">M_STATE_MACHINE_CLEANUP_REASON_CANCEL</a>
<br />
 }</td></tr>
<tr class="separator:gab672e2df471445216b41401fe032fcb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad6bf4781e8e64a440b519722daaae1a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gaad6bf4781e8e64a440b519722daaae1a">M_state_machine_trace_t</a> { <br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggaad6bf4781e8e64a440b519722daaae1aa656b38ded6ba0192ae82dbbd2fbce4cb">M_STATE_MACHINE_TRACE_NONE</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggaad6bf4781e8e64a440b519722daaae1aab5644016744368054945c28fe09e78ed">M_STATE_MACHINE_TRACE_MACHINEENTER</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggaad6bf4781e8e64a440b519722daaae1aa2e859feab4173d6a36f2364479f11013">M_STATE_MACHINE_TRACE_MACHINEEXIT</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggaad6bf4781e8e64a440b519722daaae1aac46547f7c0772c170ed9b6c53cdd8982">M_STATE_MACHINE_TRACE_STATE_START</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggaad6bf4781e8e64a440b519722daaae1aa24bec4d9cef8a4df46f63ca5a5aaf30d">M_STATE_MACHINE_TRACE_STATE_FINISH</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggaad6bf4781e8e64a440b519722daaae1aafd72d96da38e5e00c134d52f96faaf1c">M_STATE_MACHINE_TRACE_PRE_START</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggaad6bf4781e8e64a440b519722daaae1aaf8e770a39e0d6010c76e12d7d40e8d5a">M_STATE_MACHINE_TRACE_PRE_FINISH</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggaad6bf4781e8e64a440b519722daaae1aa7e9a2c162ddbfaa2a57a91d75fd2c676">M_STATE_MACHINE_TRACE_POST_START</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggaad6bf4781e8e64a440b519722daaae1aaf7b267c55084695c1d015aa43085d87a">M_STATE_MACHINE_TRACE_POST_FINISH</a>, 
<br />
&#160;&#160;<a class="el" href="group__m__state__machine.html#ggaad6bf4781e8e64a440b519722daaae1aa1e0af3b82480abd0b6ff47963b7d789b">M_STATE_MACHINE_TRACE_CLEANUP</a>
<br />
 }</td></tr>
<tr class="separator:gaad6bf4781e8e64a440b519722daaae1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3477b2670869577b546e5033411df95c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga3477b2670869577b546e5033411df95c">M_state_machine_create</a> (M_uint64 ndescr, const char *descr, M_uint32 flags)</td></tr>
<tr class="separator:ga3477b2670869577b546e5033411df95c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff67fd829b43aabe519c004d44cd0211"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gaff67fd829b43aabe519c004d44cd0211">M_state_machine_destroy</a> (<a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m)</td></tr>
<tr class="separator:gaff67fd829b43aabe519c004d44cd0211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30471f8aa10fc5dbc76f224b3f6f0313"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga30471f8aa10fc5dbc76f224b3f6f0313">M_state_machine_cleanup_create</a> (M_uint64 ndescr, const char *descr, M_uint32 flags)</td></tr>
<tr class="separator:ga30471f8aa10fc5dbc76f224b3f6f0313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25bce214a52955c59ffc76fb59f76f28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga25bce214a52955c59ffc76fb59f76f28">M_state_machine_cleanup_destroy</a> (<a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *m)</td></tr>
<tr class="separator:ga25bce214a52955c59ffc76fb59f76f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e832f9aca09dc77eb4aeddb038b0508"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga6e832f9aca09dc77eb4aeddb038b0508">M_state_machine_insert_state</a> (<a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_uint64 id, M_uint64 ndescr, const char *descr, <a class="el" href="group__m__state__machine.html#ga4d92a9e014da0a2374e2a7a97f23d03a">M_state_machine_state_cb</a> func, <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *cleanup, <a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *next_ids)</td></tr>
<tr class="separator:ga6e832f9aca09dc77eb4aeddb038b0508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga937c7ffbf381aea7b0117bb2f9b7ba0a"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga937c7ffbf381aea7b0117bb2f9b7ba0a">M_state_machine_insert_sub_state_machine</a> (<a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_uint64 id, M_uint64 ndescr, const char *descr, const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *subm, <a class="el" href="group__m__state__machine.html#ga5a7a8a6fa579f98d8f86064e3065d692">M_state_machine_pre_cb</a> pre, <a class="el" href="group__m__state__machine.html#gaa4534c36abf95243553d30d2869f417e">M_state_machine_post_cb</a> post, <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *cleanup, <a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *next_ids)</td></tr>
<tr class="separator:ga937c7ffbf381aea7b0117bb2f9b7ba0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46f53d3744f8786e10af50311c757930"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga46f53d3744f8786e10af50311c757930">M_state_machine_remove_state</a> (<a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_uint64 id)</td></tr>
<tr class="separator:ga46f53d3744f8786e10af50311c757930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga005126b2f5b657db1530ff77ec6fced7"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga005126b2f5b657db1530ff77ec6fced7">M_state_machine_has_state</a> (const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_uint64 id)</td></tr>
<tr class="separator:ga005126b2f5b657db1530ff77ec6fced7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae433db9076e146c016fa9e2849df0e46"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gae433db9076e146c016fa9e2849df0e46">M_state_machine_list_states</a> (const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m)</td></tr>
<tr class="separator:gae433db9076e146c016fa9e2849df0e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90db91e9e922fc972af93c267d09db85"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga90db91e9e922fc972af93c267d09db85">M_state_machine_cleanup_insert_state</a> (<a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *m, M_uint64 id, M_uint64 ndescr, const char *descr, <a class="el" href="group__m__state__machine.html#gab581c5a07d70888ac7651fcc8f464f8a">M_state_machine_cleanup_cb</a> func, <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *cleanup, <a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *next_ids)</td></tr>
<tr class="separator:ga90db91e9e922fc972af93c267d09db85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae90c2ac7ee74d5538ca42b1d30d47909"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gae90c2ac7ee74d5538ca42b1d30d47909">M_state_machine_cleanup_insert_cleanup_sub_state_machine</a> (<a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *m, M_uint64 id, M_uint64 ndescr, const char *descr, const <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *subm, <a class="el" href="group__m__state__machine.html#ga5a7a8a6fa579f98d8f86064e3065d692">M_state_machine_pre_cb</a> pre, <a class="el" href="group__m__state__machine.html#gaa4534c36abf95243553d30d2869f417e">M_state_machine_post_cb</a> post, <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *cleanup, <a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *next_ids)</td></tr>
<tr class="separator:gae90c2ac7ee74d5538ca42b1d30d47909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga689888004772049c9cff464ac8c644eb"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga689888004772049c9cff464ac8c644eb">M_state_machine_cleanup_insert_sub_state_machine</a> (<a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *m, M_uint64 id, M_uint64 ndescr, const char *descr, const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *subm, <a class="el" href="group__m__state__machine.html#ga5a7a8a6fa579f98d8f86064e3065d692">M_state_machine_pre_cb</a> pre, <a class="el" href="group__m__state__machine.html#gaa4534c36abf95243553d30d2869f417e">M_state_machine_post_cb</a> post, <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *cleanup, <a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *next_ids)</td></tr>
<tr class="separator:ga689888004772049c9cff464ac8c644eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga282d36c2210a6947f9c4fb1d16d980e0"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga282d36c2210a6947f9c4fb1d16d980e0">M_state_machine_cleanup_remove_state</a> (<a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *m, M_uint64 id)</td></tr>
<tr class="separator:ga282d36c2210a6947f9c4fb1d16d980e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9303d5ac89fda361a8bfabd9b0ddafe1"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga9303d5ac89fda361a8bfabd9b0ddafe1">M_state_machine_cleanup_has_state</a> (const <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *m, M_uint64 id)</td></tr>
<tr class="separator:ga9303d5ac89fda361a8bfabd9b0ddafe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95bb82c7329736d450afa85a61fb77b2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga95bb82c7329736d450afa85a61fb77b2">M_state_machine_cleanup_list_states</a> (const <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *m)</td></tr>
<tr class="separator:ga95bb82c7329736d450afa85a61fb77b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f61f1e23e48dd36848038eabf41b0b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga1f61f1e23e48dd36848038eabf41b0b4">M_state_machine_enable_trace</a> (<a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, <a class="el" href="group__m__state__machine.html#gaed19ff69d4d8d638185fa5c1a81201a1">M_state_machine_trace_cb</a> cb, void *thunk)</td></tr>
<tr class="separator:ga1f61f1e23e48dd36848038eabf41b0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cccaf8f6ed768eaa087113fe3f74497"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga8cccaf8f6ed768eaa087113fe3f74497">M_state_machine_cleanup_enable_trace</a> (<a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *m, <a class="el" href="group__m__state__machine.html#gaed19ff69d4d8d638185fa5c1a81201a1">M_state_machine_trace_cb</a> cb, void *thunk)</td></tr>
<tr class="separator:ga8cccaf8f6ed768eaa087113fe3f74497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5907f72a878c13dd0517d874af6dfd5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga5907f72a878c13dd0517d874af6dfd5f">M_state_machine_run</a> (<a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, void *data)</td></tr>
<tr class="separator:ga5907f72a878c13dd0517d874af6dfd5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12f5ea3635d569f67e371f1fb6c3463a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga12f5ea3635d569f67e371f1fb6c3463a">M_state_machine_reset</a> (<a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, <a class="el" href="group__m__state__machine.html#gab672e2df471445216b41401fe032fcb8">M_state_machine_cleanup_reason_t</a> reason)</td></tr>
<tr class="separator:ga12f5ea3635d569f67e371f1fb6c3463a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4993b001f19fcf3e1629462b60403a0"><td class="memItemLeft" align="right" valign="top">M_uint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gad4993b001f19fcf3e1629462b60403a0">M_state_machine_ndescr</a> (const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_bool recurse)</td></tr>
<tr class="separator:gad4993b001f19fcf3e1629462b60403a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fe23ef20370afb18c86632f668f59cb"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga7fe23ef20370afb18c86632f668f59cb">M_state_machine_descr</a> (const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_bool recurse)</td></tr>
<tr class="separator:ga7fe23ef20370afb18c86632f668f59cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae688398f2616e38cecc56a2b1b9b1f3d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gae688398f2616e38cecc56a2b1b9b1f3d">M_state_machine_active_sub</a> (const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_bool recurse)</td></tr>
<tr class="separator:gae688398f2616e38cecc56a2b1b9b1f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6aa49756f49a900c3069b1130fb71b5"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gad6aa49756f49a900c3069b1130fb71b5">M_state_machine_active_state</a> (const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_uint64 *id)</td></tr>
<tr class="separator:gad6aa49756f49a900c3069b1130fb71b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0404b7b17fa2b9d2f15f10685b879df"><td class="memItemLeft" align="right" valign="top">M_uint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gad0404b7b17fa2b9d2f15f10685b879df">M_state_machine_active_state_ndescr</a> (const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_bool recurse)</td></tr>
<tr class="separator:gad0404b7b17fa2b9d2f15f10685b879df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga22652eb92d60ca1d5059df274fd615ea"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#ga22652eb92d60ca1d5059df274fd615ea">M_state_machine_active_state_descr</a> (const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_bool recurse)</td></tr>
<tr class="separator:ga22652eb92d60ca1d5059df274fd615ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafef7e8b0852ef9009ac16696dae2e6b7"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gafef7e8b0852ef9009ac16696dae2e6b7">M_state_machine_descr_full</a> (const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m, M_bool show_id)</td></tr>
<tr class="separator:gafef7e8b0852ef9009ac16696dae2e6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacff1b069b0bc0ba5d7a5fcf80f62001e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__state__machine.html#gacff1b069b0bc0ba5d7a5fcf80f62001e">M_state_machine_duplicate</a> (const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *m) M_MALLOC</td></tr>
<tr class="separator:gacff1b069b0bc0ba5d7a5fcf80f62001e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Non-linear state machine for running a sequence of states.</p>
<p>Normally the state machine will run using a linear or linear hybrid method. When adding states to the state machine the order is preserved. By default the next state is the next state added. A state can change/set the next state id. Using the next state is simply a convenience for using the state machine in a linear manner. So a state can set an id to transition to or it can rely on the next state in the ordered state list to be called next. This behavior can be disabled and the state machine will run as a pure non-linear state machine where a transition id is required to be set by a state.</p>
<p>States are given an integral id. The id must be unique and is used so a state can specify which state to transition to. No id can use the number zero (0); it is reserved for internal use.</p>
<p>Each state can have an optional cleanup state machine. The cleanup will be called when the error or done status are returned by run. All status that ran (including the one that generated the error) will have their cleanup state machine run.</p>
<p>Cleanup is run in reverse order that the states were run in. For example states A - E were run and E returns done. Cleanup for states will run E - A. Due to the state machine supporting non-linear sequences it is possible that a cleanup machines will be called multiple times.</p>
<p>Cleanup can be used in multiple ways. They can be resource clean up (particularly useful when the done_cleanup flag is used) that is run when the machine finishes. Or they can be used as error recovery such as performing an action if an error occurs (default use).</p>
<p>Cleanup should be specific to the state and should in some way be based on the state they're associated with. A final cleanup on success could be handled as a final state but should be handled outside of the state machine entirely. Such as being handled as part of cleaning up the void pointer of state data.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line">    STATE_A = 1,</div><div class="line">    STATE_B,</div><div class="line">    STATE_C</div><div class="line">} states_t;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <a class="code" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> state_a(<span class="keywordtype">void</span> *data, M_uint64 *next)</div><div class="line">{</div><div class="line">    (void)data;</div><div class="line">    *next = STATE_C;</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba99a33d04268a2612969eaf95a66aaa55">M_STATE_MACHINE_STATUS_NEXT</a>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <a class="code" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> state_b(<span class="keywordtype">void</span> *data, M_uint64 *next)</div><div class="line">{</div><div class="line">    (void)data;</div><div class="line">    (void)next;</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268bada3d7e7522252be04d8a9456042ed74e">M_STATE_MACHINE_STATUS_DONE</a>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <a class="code" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> state_c(<span class="keywordtype">void</span> *data, M_uint64 *next)</div><div class="line">{</div><div class="line">    (void)data;</div><div class="line">    *next = STATE_B;</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba99a33d04268a2612969eaf95a66aaa55">M_STATE_MACHINE_STATUS_NEXT</a>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">    <a class="code" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a>        *sm;</div><div class="line">    <a class="code" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a>  status;</div><div class="line"></div><div class="line">    sm = <a class="code" href="group__m__state__machine.html#ga3477b2670869577b546e5033411df95c">M_state_machine_create</a>(0, NULL, <a class="code" href="group__m__state__machine.html#gga5172f2a4ea588087e85b9f44f99da78aa3996716d4796593cede212cbd06e22ec">M_STATE_MACHINE_NONE</a>);</div><div class="line"></div><div class="line">    <a class="code" href="group__m__state__machine.html#ga6e832f9aca09dc77eb4aeddb038b0508">M_state_machine_insert_state</a>(sm, STATE_A, 0, NULL, state_a, NULL, NULL);</div><div class="line">    <a class="code" href="group__m__state__machine.html#ga6e832f9aca09dc77eb4aeddb038b0508">M_state_machine_insert_state</a>(sm, STATE_B, 0, NULL, state_b, NULL, NULL);</div><div class="line">    <a class="code" href="group__m__state__machine.html#ga6e832f9aca09dc77eb4aeddb038b0508">M_state_machine_insert_state</a>(sm, STATE_C, 0, NULL, state_c, NULL, NULL);</div><div class="line"></div><div class="line">    <span class="keywordflow">do</span> {</div><div class="line">        status = <a class="code" href="group__m__state__machine.html#ga5907f72a878c13dd0517d874af6dfd5f">M_state_machine_run</a>(sm, NULL);</div><div class="line">    } <span class="keywordflow">while</span> (status == <a class="code" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba268c02ad158bd9a779c2a1226704a672">M_STATE_MACHINE_STATUS_WAIT</a>);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (status != <a class="code" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268bada3d7e7522252be04d8a9456042ed74e">M_STATE_MACHINE_STATUS_DONE</a>) {</div><div class="line">        <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;state machine failure\n&quot;</span>);</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;state machine success\n&quot;</span>);</div><div class="line">    }</div><div class="line"></div><div class="line">    <a class="code" href="group__m__state__machine.html#gaff67fd829b43aabe519c004d44cd0211">M_state_machine_destroy</a>(sm);</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">} </div></div><!-- fragment --> <h2 class="groupheader">Typedef Documentation</h2>
<a id="gad576e0cce8ea03b5bfcffabfacfe6c14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad576e0cce8ea03b5bfcffabfacfe6c14">&#9670;&nbsp;</a></span>M_state_machine_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct M_state_machine <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gae15e0f0b71c657e70aab62f619c10bc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae15e0f0b71c657e70aab62f619c10bc1">&#9670;&nbsp;</a></span>M_state_machine_cleanup_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct M_state_machine_cleanup <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaed19ff69d4d8d638185fa5c1a81201a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed19ff69d4d8d638185fa5c1a81201a1">&#9670;&nbsp;</a></span>M_state_machine_trace_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* M_state_machine_trace_cb) (<a class="el" href="group__m__state__machine.html#gaad6bf4781e8e64a440b519722daaae1a">M_state_machine_trace_t</a> trace, M_uint64 mndescr, const char *mdescr, M_uint64 sndescr, const char *sdescr, const char *fdescr, M_uint64 id, <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> status, M_bool run_sub, M_uint64 next_id, void *thunk)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trace callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trace</td><td>Type of action traced. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mndescr</td><td>Numeric state machine description code. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mdescr</td><td>State machine description. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sndescr</td><td>Numeric state description code. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sdescr</td><td>State description. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fdescr</td><td>Full description of the entire machine flow. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Id of state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>Return status. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">run_sub</td><td>Will the sub state machine be run. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">next_id</td><td>The next id the machine will move to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thunk</td><td>Thunk passed in when enabling the trace. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4d92a9e014da0a2374e2a7a97f23d03a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d92a9e014da0a2374e2a7a97f23d03a">&#9670;&nbsp;</a></span>M_state_machine_state_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a>(* M_state_machine_state_cb) (void *data, M_uint64 *next)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State callback.</p>
<p>This is what the state machine calls when entering a given state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>An opaque data type storing data that should be passed to the cb. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">next</td><td>The next id the state machine should transition to. When operating in linear or a hybrid manner this will be set to the next linear state. Changing this will change what state is next.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status. </dd></dl>

</div>
</div>
<a id="gab581c5a07d70888ac7651fcc8f464f8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab581c5a07d70888ac7651fcc8f464f8a">&#9670;&nbsp;</a></span>M_state_machine_cleanup_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a>(* M_state_machine_cleanup_cb) (void *data, <a class="el" href="group__m__state__machine.html#gab672e2df471445216b41401fe032fcb8">M_state_machine_cleanup_reason_t</a> reason, M_uint64 *next)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cleanup state callback.</p>
<p>This is what a cleanup state machine calls when entering a given cleanup state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>An opaque data type storing data that should be passed to the cb. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>The reason cleanup is being run. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">next</td><td>The next id the state machine should transition to. When operating in linear or a hybrid manner this will be set to the next linear state. Changing this will change what state is next.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status. </dd></dl>

</div>
</div>
<a id="ga5a7a8a6fa579f98d8f86064e3065d692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a7a8a6fa579f98d8f86064e3065d692">&#9670;&nbsp;</a></span>M_state_machine_pre_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef M_bool(* M_state_machine_pre_cb) (void *data, <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> *status, M_uint64 *next)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sub state machine pre (initialization) callback.</p>
<p>This will be called before starting a sub state machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>An opaque data type storing data that should be passed to the cb. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Used when not running the sub state machine. This is the status of the state. Defaults to M_STATE_MACHINE_STATUS_NEXT if not specified. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">next</td><td>Used when not running the sub state machine. If set the next id the state machine should transition to. When operating in linear or a hybrid manner this will be set to the next linear state. Changing this will change what state is next.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the sub state machine should run. M_FALSE if the sub state machine should not run. </dd></dl>

</div>
</div>
<a id="gaa4534c36abf95243553d30d2869f417e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4534c36abf95243553d30d2869f417e">&#9670;&nbsp;</a></span>M_state_machine_post_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a>(* M_state_machine_post_cb) (void *data, <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> sub_status, M_uint64 *next)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sub state machine post (de-initialization) callback.</p>
<p>The sub_status argument is the status returned by the sub state machine. Possible status:</p>
<ul>
<li>M_STATE_MACHINE_STATUS_DONE</li>
<li>M_STATE_MACHINE_STATUS_ERROR_*</li>
</ul>
<p>The sub_status will next be M_STATE_MACHINE_STATUS_NEXT or similar. Thus, the sub_status should not be blindly returned from the post function as it will stop processing the parent state machine. If processing needs to continue the sub_status should be checked and M_STATE_MACHINE_STATUS_NEXT or similar should be returned. M_STATE_MACHINE_STATUS_DONE is the only successful sub_status that can be set, so patterns that check against M_STATE_MACHINE_STATUS_DONE should be used. For example:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (sub_status == <a class="code" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268bada3d7e7522252be04d8a9456042ed74e">M_STATE_MACHINE_STATUS_DONE</a>) {</div><div class="line">    <span class="comment">// Success and continue.</span></div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268ba99a33d04268a2612969eaf95a66aaa55">M_STATE_MACHINE_STATUS_NEXT</a>;</div><div class="line">}</div><div class="line">...</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keywordflow">if</span> (sub_status != <a class="code" href="group__m__state__machine.html#ggac270a27ce03a23e30d86788b2103268bada3d7e7522252be04d8a9456042ed74e">M_STATE_MACHINE_STATUS_DONE</a>) {</div><div class="line">    <span class="comment">// Error of some kind. Propagate it up.</span></div><div class="line">    <span class="keywordflow">return</span> sub_status;</div><div class="line">}</div><div class="line">...</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="keywordflow">if</span> (stop_condition) {</div><div class="line">   <span class="comment">// Some kind of external stop condition was encountered.</span></div><div class="line">   <span class="comment">// Return the sub_status because it will stop processing</span></div><div class="line">   <span class="comment">// and we should maintain status from the sub state machine.</span></div><div class="line">   <span class="keywordflow">return</span> sub_status; <span class="comment">// Status is error or done.</span></div><div class="line">}</div><div class="line">...</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>An opaque data type storing data that should be passed to the cb. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sub_status</td><td>The status of the last state in the sub state machine. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">next</td><td>The next id the state machine should transition to. When operating in linear or a hybrid manner this will be set to the next linear state. Changing this will change what state is next.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gac270a27ce03a23e30d86788b2103268b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac270a27ce03a23e30d86788b2103268b">&#9670;&nbsp;</a></span>M_state_machine_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Status of the state machine while running though states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268ba57269afb43b1a27ce27f87d634209773"></a>M_STATE_MACHINE_STATUS_NONE&#160;</td><td class="fielddoc"><p>Invalid status. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268ba99a33d04268a2612969eaf95a66aaa55"></a>M_STATE_MACHINE_STATUS_NEXT&#160;</td><td class="fielddoc"><p>Success continue to the next state. The state was run and should be recored as well as cleanup added to the cleanup list. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268ba00a9fe11d129486151f77324808b453c"></a>M_STATE_MACHINE_STATUS_PREV&#160;</td><td class="fielddoc"><p>A recoverable error occurred. Go to the last successful (non-continue) state.</p>
<p>This should be treated as a special case and is primarily a convenience when using the state machine in a linear manner. It should not be used in stead of specifying an id and calling next if it is possible to do so.</p>
<p>This does not back out states. State cleanups will not be called when skipping back over states. Also, the list of cleanups will not be modified to remove cleanups for states that have been called. Further, This can result in a state having it's cleanup registered multiple times as a result of multiple successful calls. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268ba98647ee00b1c291f4e2c8e75b07d877d"></a>M_STATE_MACHINE_STATUS_CONTINUE&#160;</td><td class="fielddoc"><p>Success continue to the next state. The state was skipped and should be treated as such. The cleanup for this state will not be added to the cleanup list.</p>
<p>This should not be treated as next without cleanup. It is for signifying that the state was skipped. If you need next without cleanup the state should be registered without a cleanup state machine. Even if that means having two ids for the same state function one with and one without a cleanup registered. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268baf452537f8039e4b896113eca65214891"></a>M_STATE_MACHINE_STATUS_ERROR_STATE&#160;</td><td class="fielddoc"><p>An unrecoverable error occurred within a state. Exit and clean up. The state is responsible for error reporting though the void data pointer passed to the state function. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268ba268c02ad158bd9a779c2a1226704a672"></a>M_STATE_MACHINE_STATUS_WAIT&#160;</td><td class="fielddoc"><p>The state is processing in a non-blocking fashion. More calls to run are required to continue the operation. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268bada3d7e7522252be04d8a9456042ed74e"></a>M_STATE_MACHINE_STATUS_DONE&#160;</td><td class="fielddoc"><p>The sequence completed successfully. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268ba0004ca696299cafafef6934f0eb34a3c"></a>M_STATE_MACHINE_STATUS_STOP_CLEANUP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268ba162df2561b4fb89d4f0606d82d35050d"></a>M_STATE_MACHINE_STATUS_ERROR_INVALID&#160;</td><td class="fielddoc"><p>The state machine was called with an invalid parameter. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268bad8f4ce671db51b3e2faf1a42f32e7f23"></a>M_STATE_MACHINE_STATUS_ERROR_BAD_ID&#160;</td><td class="fielddoc"><p>Invalid transition specified. Id not found. Most likely the state specified an id to transition to that doesn't exist. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268bab16261112a68085a3f705220fd96efd0"></a>M_STATE_MACHINE_STATUS_ERROR_NO_NEXT&#160;</td><td class="fielddoc"><p>Invalid transition specified. An next id was not specified. This can happen when running in a linear manner and the last state in the sequence does not return done. There are no states after the last state so we cannot continue with the sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268ba451c78a9dab3fecb06deadcf46c133fd"></a>M_STATE_MACHINE_STATUS_ERROR_BAD_NEXT&#160;</td><td class="fielddoc"><p>Invalid transition specified. The specified next id is not valid (not listed in the states list of next ids) for the state. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268bab73e0e9087d1fa9db0209a4a917d0d33"></a>M_STATE_MACHINE_STATUS_ERROR_SELF_NEXT&#160;</td><td class="fielddoc"><p>Invalid transition specified. The specified next id is the current id. Use the continue_loop flag to disable this check. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268ba5d6bced3cb0a3fad3018075aa532e447"></a>M_STATE_MACHINE_STATUS_ERROR_NO_PREV&#160;</td><td class="fielddoc"><p>Invalid transition specified. There are no previous states to transition to. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac270a27ce03a23e30d86788b2103268ba333b05b0d99616f9b5089c6be3953938"></a>M_STATE_MACHINE_STATUS_ERROR_INF_CONT&#160;</td><td class="fielddoc"><p>A possible infinite continuation loop has been encountered. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga5172f2a4ea588087e85b9f44f99da78a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5172f2a4ea588087e85b9f44f99da78a">&#9670;&nbsp;</a></span>M_state_machine_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__state__machine.html#ga5172f2a4ea588087e85b9f44f99da78a">M_state_machine_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Options to control the behavior of the state machine. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5172f2a4ea588087e85b9f44f99da78aa3996716d4796593cede212cbd06e22ec"></a>M_STATE_MACHINE_NONE&#160;</td><td class="fielddoc"><p>Normal operation. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5172f2a4ea588087e85b9f44f99da78aa3ec5b92aa64afcdd493014eaa7ac7296"></a>M_STATE_MACHINE_SINGLE_PREV&#160;</td><td class="fielddoc"><p>Do not allow multiple states to return STATUS_PREV in a row. Only one PREV return is allowed between NEXT calls. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5172f2a4ea588087e85b9f44f99da78aacf8eb64aaa29c1e44f6d7794ec03d92e"></a>M_STATE_MACHINE_CONTINUE_LOOP&#160;</td><td class="fielddoc"><p>Normally continuations are tracked for the continuation cycle and any continuation that is repeated is treated as an internal error in order to detect and prevent accidental infinite loops.</p>
<p>This option disables this check and allows continuations to call continuations that have been called previously. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5172f2a4ea588087e85b9f44f99da78aa8b7974ebfcd1294be4874e5b1d179b57"></a>M_STATE_MACHINE_SELF_CALL&#160;</td><td class="fielddoc"><p>Normally states cannot all themselves. This flag also allows states to call themselves. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5172f2a4ea588087e85b9f44f99da78aa0b61d0aa1017f6e101af87f8fb821fc9"></a>M_STATE_MACHINE_DONE_CLEANUP&#160;</td><td class="fielddoc"><p>State cleanups should be called on done. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5172f2a4ea588087e85b9f44f99da78aade88e2d1260b7c7d0411b0beb89fdcaf"></a>M_STATE_MACHINE_ONE_CLEANUP&#160;</td><td class="fielddoc"><p>State cleanup should be called once no matter how many times the state was called. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5172f2a4ea588087e85b9f44f99da78aa9f6b40e4882711b10f8cbbc3d5a02eee"></a>M_STATE_MACHINE_EXPLICIT_NEXT&#160;</td><td class="fielddoc"><p>Normally the state machine defaults to using the next state in the order states were added if a state isn't explicits specified by the current state. This requires that a state specify the next (transition) state.</p>
<p>This will force the state machine to function purely as a non-linear state machine. The linear / linear hybrid functionality will be disabled. This option cannot be used in conjunction with linear_end. The linear_end flag will be ignored if this flag is set. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5172f2a4ea588087e85b9f44f99da78aa6a02e4765ab36828e995612049845cf6"></a>M_STATE_MACHINE_LINEAR_END&#160;</td><td class="fielddoc"><p>Normally a state machine is done when the done status is returned by a state. This allows the state machine to be considered done if a state does not specify a transition, it returns next or continue and the current state is the last state in the ordered state list. </p>
</td></tr>
</table>

</div>
</div>
<a id="gab672e2df471445216b41401fe032fcb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab672e2df471445216b41401fe032fcb8">&#9670;&nbsp;</a></span>M_state_machine_cleanup_reason_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__state__machine.html#gab672e2df471445216b41401fe032fcb8">M_state_machine_cleanup_reason_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Status of the state machine which caused the cleanup routines to trigger. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab672e2df471445216b41401fe032fcb8ac22cccc64904eec3073e2e14eb1e480f"></a>M_STATE_MACHINE_CLEANUP_REASON_NONE&#160;</td><td class="fielddoc"><p>Cleanup should not be run. When calling reset this will not run cleanup. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab672e2df471445216b41401fe032fcb8aa0d2482e1b4dd2aebdd9a20f7f7ada6f"></a>M_STATE_MACHINE_CLEANUP_REASON_DONE&#160;</td><td class="fielddoc"><p>State machine finished successfully. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab672e2df471445216b41401fe032fcb8a9148ea6a69750a3154c6faaa31675753"></a>M_STATE_MACHINE_CLEANUP_REASON_ERROR&#160;</td><td class="fielddoc"><p>State machine stopped due to error. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab672e2df471445216b41401fe032fcb8a25cafb613c80a31223ab097bd13d5181"></a>M_STATE_MACHINE_CLEANUP_REASON_RESET&#160;</td><td class="fielddoc"><p>State machine should be reset so it can run again. This is a reason why cleanup is being run. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab672e2df471445216b41401fe032fcb8a253b2c9014bd54cdbc8d65a28e228290"></a>M_STATE_MACHINE_CLEANUP_REASON_CANCEL&#160;</td><td class="fielddoc"><p>State machine was canceled. This will reset the machine so it can run again but should be considered that it will not be run again. Use reset for restarting instead. </p>
</td></tr>
</table>

</div>
</div>
<a id="gaad6bf4781e8e64a440b519722daaae1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad6bf4781e8e64a440b519722daaae1a">&#9670;&nbsp;</a></span>M_state_machine_trace_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__state__machine.html#gaad6bf4781e8e64a440b519722daaae1a">M_state_machine_trace_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tracing information. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaad6bf4781e8e64a440b519722daaae1aa656b38ded6ba0192ae82dbbd2fbce4cb"></a>M_STATE_MACHINE_TRACE_NONE&#160;</td><td class="fielddoc"><p>Invalid. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaad6bf4781e8e64a440b519722daaae1aab5644016744368054945c28fe09e78ed"></a>M_STATE_MACHINE_TRACE_MACHINEENTER&#160;</td><td class="fielddoc"><p>About to enter a given state machine (could be sub) Will provide the following information: mndescr mdescr fdescr </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaad6bf4781e8e64a440b519722daaae1aa2e859feab4173d6a36f2364479f11013"></a>M_STATE_MACHINE_TRACE_MACHINEEXIT&#160;</td><td class="fielddoc"><p>Machine exited. Will provide the following information: mndescr mdescr fdescr status </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaad6bf4781e8e64a440b519722daaae1aac46547f7c0772c170ed9b6c53cdd8982"></a>M_STATE_MACHINE_TRACE_STATE_START&#160;</td><td class="fielddoc"><p>State is about to run. Will provide the following information: mndescr mdescr sndescr sdescr fdescr id </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaad6bf4781e8e64a440b519722daaae1aa24bec4d9cef8a4df46f63ca5a5aaf30d"></a>M_STATE_MACHINE_TRACE_STATE_FINISH&#160;</td><td class="fielddoc"><p>State finished running. Will provide the following information: mndescr mdescr sndescr sdescr fdescr id next_id status </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaad6bf4781e8e64a440b519722daaae1aafd72d96da38e5e00c134d52f96faaf1c"></a>M_STATE_MACHINE_TRACE_PRE_START&#160;</td><td class="fielddoc"><p>Pre function will run before entering a sub machine. Will provide the following information: mndescr mdescr sndescr sdescr fdescr id </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaad6bf4781e8e64a440b519722daaae1aaf8e770a39e0d6010c76e12d7d40e8d5a"></a>M_STATE_MACHINE_TRACE_PRE_FINISH&#160;</td><td class="fielddoc"><p>Pre functoin finished running. Will provide the following information: mndescr mdescr sndescr sdescr fdescr id run_sub status </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaad6bf4781e8e64a440b519722daaae1aa7e9a2c162ddbfaa2a57a91d75fd2c676"></a>M_STATE_MACHINE_TRACE_POST_START&#160;</td><td class="fielddoc"><p>Sub machine finished but before post function runs. Will provide the following information: mndescr mdescr sndescr sdescr fdescr id </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaad6bf4781e8e64a440b519722daaae1aaf7b267c55084695c1d015aa43085d87a"></a>M_STATE_MACHINE_TRACE_POST_FINISH&#160;</td><td class="fielddoc"><p>Sub machine finished running but after post function ran. Will provide the following information: mndescr mdescr sndescr sdescr fdescr id status </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaad6bf4781e8e64a440b519722daaae1aa1e0af3b82480abd0b6ff47963b7d789b"></a>M_STATE_MACHINE_TRACE_CLEANUP&#160;</td><td class="fielddoc"><p>Cleanup function ran. Will provide the following information: mndescr mdescr sndescr sdescr </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3477b2670869577b546e5033411df95c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3477b2670869577b546e5033411df95c">&#9670;&nbsp;</a></span>M_state_machine_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a>* M_state_machine_create </td>
          <td>(</td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>ndescr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>descr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint32&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new state machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ndescr</td><td>A numeric description of the state machine. Can be 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descr</td><td>A textual description of the state machine. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>M_state_machine_flags_t flags to control the behavior of the state machine.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The state machine. </dd></dl>

</div>
</div>
<a id="gaff67fd829b43aabe519c004d44cd0211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff67fd829b43aabe519c004d44cd0211">&#9670;&nbsp;</a></span>M_state_machine_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_state_machine_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a state machine.</p>
<p>This does not call the cleanup state machines associated with each state. State cleanups are only called when the state machine finishes running.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga30471f8aa10fc5dbc76f224b3f6f0313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga30471f8aa10fc5dbc76f224b3f6f0313">&#9670;&nbsp;</a></span>M_state_machine_cleanup_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a>* M_state_machine_cleanup_create </td>
          <td>(</td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>ndescr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>descr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint32&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new cleanup state machine.</p>
<p>A cleanup state machine is very similar to a regular state machine and is only called when associated with a regular state machine state's cleanup parameter. This cannot be run directly but supports all options a regular state machine supports for execution.</p>
<p>When run error returns from a cleanup state machine will not be propagated back to the caller. To handle errors it is possible to have a cleanup state machine's state to have an associated cleanup state machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ndescr</td><td>A numeric description of the cleanup state machine. Can be 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descr</td><td>A textual description of the cleanup state machine. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>M_state_machine_flags_t flags to control the behavior of the cleanup state machine.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cleanup state machine. </dd></dl>

</div>
</div>
<a id="ga25bce214a52955c59ffc76fb59f76f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25bce214a52955c59ffc76fb59f76f28">&#9670;&nbsp;</a></span>M_state_machine_cleanup_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_state_machine_cleanup_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a cleanup state machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The cleanup state machine. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6e832f9aca09dc77eb4aeddb038b0508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e832f9aca09dc77eb4aeddb038b0508">&#9670;&nbsp;</a></span>M_state_machine_insert_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_state_machine_insert_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>ndescr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>descr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#ga4d92a9e014da0a2374e2a7a97f23d03a">M_state_machine_state_cb</a>&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>cleanup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *&#160;</td>
          <td class="paramname"><em>next_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a state to the state machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id associated with this state. Must be unique. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ndescr</td><td>A numeric description of the state. Can be 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descr</td><td>A textual description of the state. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>The state function to call. Cannot be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cleanup</td><td>The cleanup state machine to call. Can be NULL if no cleanup is necessary for this state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">next_ids</td><td>A list of valid transitions for this state. Can be NULL to denote all states are valid transitions. If not NULL the state machine takes ownership of next_ids.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the state was added. Otherwise M_FALSE. </dd></dl>

</div>
</div>
<a id="ga937c7ffbf381aea7b0117bb2f9b7ba0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga937c7ffbf381aea7b0117bb2f9b7ba0a">&#9670;&nbsp;</a></span>M_state_machine_insert_sub_state_machine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_state_machine_insert_sub_state_machine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>ndescr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>descr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>subm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#ga5a7a8a6fa579f98d8f86064e3065d692">M_state_machine_pre_cb</a>&#160;</td>
          <td class="paramname"><em>pre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gaa4534c36abf95243553d30d2869f417e">M_state_machine_post_cb</a>&#160;</td>
          <td class="paramname"><em>post</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>cleanup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *&#160;</td>
          <td class="paramname"><em>next_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a state machine as a state to the state machine.</p>
<p>The state machine will duplicate the sub state machine and keep a copy.</p>
<p>The sub state machine will run though all states in the sub state machine. The state machine will return M_STATE_MACHINE_STATUS_WAIT from the sub state machine and resume the sub state machine when started again.</p>
<p>The sub state machine's final status will be passed to the post function if one is given. If a post function is not set, a status of M_STATE_MACHINE_STATUS_DONE will be returned as M_STATE_MACHINE_STATUS_NEXT. This is to prevent a M_STATE_MACHINE_STATUS_DONE from the sub state machine from accidentally stopping the calling state machine. If M_STATE_MACHINE_STATUS_DONE is needed as the result of the sub state machine's run then a post function is necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id associated with this state. Must be unique. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ndescr</td><td>A numeric description of the state. Can be 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descr</td><td>A textual description of the state. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subm</td><td>The state machine that should be called from this one. Cannot be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pre</td><td>A function to call before the sub state machine is started. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">post</td><td>A function to call after the sub state machine is finished. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cleanup</td><td>The cleanup state machine to call. Can be NULL if no cleanup is necessary for this state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">next_ids</td><td>A list of valid transitions for this state. Can be NULL to denote all states are valid transitions. If not NULL the state machine takes ownership of next_ids.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the sub state machine was added. Otherwise M_FALSE. </dd></dl>

</div>
</div>
<a id="ga46f53d3744f8786e10af50311c757930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46f53d3744f8786e10af50311c757930">&#9670;&nbsp;</a></span>M_state_machine_remove_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_state_machine_remove_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a state from the state machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id of the state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the state was found and removed. Otherwise M_FALSE. </dd></dl>

</div>
</div>
<a id="ga005126b2f5b657db1530ff77ec6fced7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga005126b2f5b657db1530ff77ec6fced7">&#9670;&nbsp;</a></span>M_state_machine_has_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_state_machine_has_state </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Does the state machine contain the given state id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id of the state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the state machine has the state id. Otherwise M_FALSE. </dd></dl>

</div>
</div>
<a id="gae433db9076e146c016fa9e2849df0e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae433db9076e146c016fa9e2849df0e46">&#9670;&nbsp;</a></span>M_state_machine_list_states()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a>* M_state_machine_list_states </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List all state ids the state machine holds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a List of state ids or NULL if the state machine as no states. </dd></dl>

</div>
</div>
<a id="ga90db91e9e922fc972af93c267d09db85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90db91e9e922fc972af93c267d09db85">&#9670;&nbsp;</a></span>M_state_machine_cleanup_insert_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_state_machine_cleanup_insert_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>ndescr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>descr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gab581c5a07d70888ac7651fcc8f464f8a">M_state_machine_cleanup_cb</a>&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>cleanup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *&#160;</td>
          <td class="paramname"><em>next_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a cleanup state to a cleanup state machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">m</td><td>The cleanup state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id associated with this state. Must be unique. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ndescr</td><td>A numeric description of the state. Can be 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descr</td><td>A textual description of the state. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>The state cleanup function to call. Cannot be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cleanup</td><td>The cleanup state machine to call. Can be NULL if no cleanup is necessary for this state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">next_ids</td><td>A list of valid transitions for this state. Can be NULL to denote all states are valid transitions. If not NULL the state machine takes ownership of next_ids.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the state was added. Otherwise M_FALSE. </dd></dl>

</div>
</div>
<a id="gae90c2ac7ee74d5538ca42b1d30d47909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae90c2ac7ee74d5538ca42b1d30d47909">&#9670;&nbsp;</a></span>M_state_machine_cleanup_insert_cleanup_sub_state_machine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_state_machine_cleanup_insert_cleanup_sub_state_machine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>ndescr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>descr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>subm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#ga5a7a8a6fa579f98d8f86064e3065d692">M_state_machine_pre_cb</a>&#160;</td>
          <td class="paramname"><em>pre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gaa4534c36abf95243553d30d2869f417e">M_state_machine_post_cb</a>&#160;</td>
          <td class="paramname"><em>post</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>cleanup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *&#160;</td>
          <td class="paramname"><em>next_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a cleanup state machine as a state to the cleanup state machine.</p>
<p>The state machine will duplicate the sub state machine and keep a copy.</p>
<p>The sub state machine will run though all states in the sub state machine. The state machine will return M_STATE_MACHINE_STATUS_WAIT from the sub state machine and resume the sub state machine when started again.</p>
<p>The sub state machine's final status will be passed to the post function if one is given. If a post function is not set, a status of M_STATE_MACHINE_STATUS_DONE will be returned as M_STATE_MACHINE_STATUS_NEXT. This is to prevent a M_STATE_MACHINE_STATUS_DONE from the sub state machine from accidentally stopping the calling state machine. If M_STATE_MACHINE_STATUS_DONE is needed as the result of the sub state machine's run then a post function is necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">m</td><td>The cleanup state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id associated with this state. Must be unique. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ndescr</td><td>A numeric description of the state. Can be 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descr</td><td>A textual description of the state. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subm</td><td>The cleanup state machine that should be called from this one. Cannot be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pre</td><td>A function to call before the sub state machine is started. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">post</td><td>A function to call after the sub state machine is finished. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cleanup</td><td>The cleanup state machine to call. Can be NULL if no cleanup is necessary for this state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">next_ids</td><td>A list of valid transitions for this state. Can be NULL to denote all states are valid transitions. If not NULL the state machine takes ownership of next_ids.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the sub state machine was added. Otherwise M_FALSE. </dd></dl>

</div>
</div>
<a id="ga689888004772049c9cff464ac8c644eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga689888004772049c9cff464ac8c644eb">&#9670;&nbsp;</a></span>M_state_machine_cleanup_insert_sub_state_machine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_state_machine_cleanup_insert_sub_state_machine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>ndescr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>descr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>subm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#ga5a7a8a6fa579f98d8f86064e3065d692">M_state_machine_pre_cb</a>&#160;</td>
          <td class="paramname"><em>pre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gaa4534c36abf95243553d30d2869f417e">M_state_machine_post_cb</a>&#160;</td>
          <td class="paramname"><em>post</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>cleanup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a> *&#160;</td>
          <td class="paramname"><em>next_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a state machine as a state to the cleanup state machine.</p>
<p>The state machine will duplicate the sub state machine and keep a copy.</p>
<p>The sub state machine will run though all states in the sub state machine. The state machine will return M_STATE_MACHINE_STATUS_WAIT from the sub state machine and resume the sub state machine when started again.</p>
<p>The sub state machine's final status will be passed to the post function if one is given. If a post function is not set, a status of M_STATE_MACHINE_STATUS_DONE will be returned as M_STATE_MACHINE_STATUS_NEXT. This is to prevent a M_STATE_MACHINE_STATUS_DONE from the sub state machine from accidentally stopping the calling state machine. If M_STATE_MACHINE_STATUS_DONE is needed as the result of the sub state machine's run then a post function is necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">m</td><td>The cleanup state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id associated with this state. Must be unique. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ndescr</td><td>A numeric description of the state. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descr</td><td>A textual description of the state. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subm</td><td>The state machine that should be called from this one. Cannot be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pre</td><td>A function to call before the sub state machine is started. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">post</td><td>A function to call after the sub state machine is finished. Can be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cleanup</td><td>The cleanup state machine to call. Can be NULL if no cleanup is necessary for this state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">next_ids</td><td>A list of valid transitions for this state. Can be NULL to denote all states are valid transitions. If not NULL the state machine takes ownership of next_ids.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the sub state machine was added. Otherwise M_FALSE. </dd></dl>

</div>
</div>
<a id="ga282d36c2210a6947f9c4fb1d16d980e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga282d36c2210a6947f9c4fb1d16d980e0">&#9670;&nbsp;</a></span>M_state_machine_cleanup_remove_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_state_machine_cleanup_remove_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a state from the cleanup state machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id of the state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the state was found and removed. Otherwise M_FALSE. </dd></dl>

</div>
</div>
<a id="ga9303d5ac89fda361a8bfabd9b0ddafe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9303d5ac89fda361a8bfabd9b0ddafe1">&#9670;&nbsp;</a></span>M_state_machine_cleanup_has_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_state_machine_cleanup_has_state </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Does the cleanup state machine contain the given state id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The cleanup state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id of the state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the state machine has the state id. Otherwise M_FALSE. </dd></dl>

</div>
</div>
<a id="ga95bb82c7329736d450afa85a61fb77b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95bb82c7329736d450afa85a61fb77b2">&#9670;&nbsp;</a></span>M_state_machine_cleanup_list_states()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__m__list__u64.html#ga4d4f1f9a5342d57c53c2f0da97da2c7a">M_list_u64_t</a>* M_state_machine_cleanup_list_states </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List all state ids the cleanup state machine holds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The cleanup state machine.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a List of state ids or NULL if the state machine as no states. </dd></dl>

</div>
</div>
<a id="ga1f61f1e23e48dd36848038eabf41b0b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f61f1e23e48dd36848038eabf41b0b4">&#9670;&nbsp;</a></span>M_state_machine_enable_trace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_state_machine_enable_trace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gaed19ff69d4d8d638185fa5c1a81201a1">M_state_machine_trace_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>thunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enabling tracing of state machine flow.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Trace callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thunk</td><td>Thunk to be passed to callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8cccaf8f6ed768eaa087113fe3f74497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8cccaf8f6ed768eaa087113fe3f74497">&#9670;&nbsp;</a></span>M_state_machine_cleanup_enable_trace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_state_machine_cleanup_enable_trace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gae15e0f0b71c657e70aab62f619c10bc1">M_state_machine_cleanup_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gaed19ff69d4d8d638185fa5c1a81201a1">M_state_machine_trace_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>thunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enabling tracing of cleanup state machine flow.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The cleanup state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Trace callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thunk</td><td>Thunk to be passed to callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5907f72a878c13dd0517d874af6dfd5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5907f72a878c13dd0517d874af6dfd5f">&#9670;&nbsp;</a></span>M_state_machine_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__state__machine.html#gac270a27ce03a23e30d86788b2103268b">M_state_machine_status_t</a> M_state_machine_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run the state machine.</p>
<p>This may need to be called multiple times. A state can run non-blocking (poll based) where the state can return a wait state. The wait state means it finished processing but has more to do.</p>
<p>On error the cleanup state machine for the state will be called. When returning from a sub state machine which had clean up run the post function which can override and ignore an error can stop the cleanup process. Thus cleanup can be stopped and the state machine can recover from the error that started the process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">m</td><td>The state machine to run. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>State specific data that can be used and or manipulated by each state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result. The done and wait returns are the only successful results (wait requiring additional calls). All other results are error conditions. </dd></dl>

</div>
</div>
<a id="ga12f5ea3635d569f67e371f1fb6c3463a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12f5ea3635d569f67e371f1fb6c3463a">&#9670;&nbsp;</a></span>M_state_machine_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_state_machine_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__state__machine.html#gab672e2df471445216b41401fe032fcb8">M_state_machine_cleanup_reason_t</a>&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rest a running state machine.</p>
<p>A condition outside of the state machine could determine it needs to restart while it was in a running state. Not specifically running but in the middle of a run; having returned from a wait state for example. This will reset the state machine's internal process state so that it can be started from the beginning again.</p>
<p>This will not run cleanup immediately if requested but instead sets the state machine to start cleanup on next run. The sub state machine post function will not allow overriding the cleanup result and prevents the state machine from stopping cleanup. M_state_machine_run <em>MUST</em> be called. Also, remember that cleanup state machines can call wait so it may be necessary to run multiple times.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reason</td><td>Whether state cleanups should run. Cleanup callbacks told cleanup is due to the reason code. Use M_STATE_MACHINE_CLEANUP_NONE to prevent cleanup. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad4993b001f19fcf3e1629462b60403a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad4993b001f19fcf3e1629462b60403a0">&#9670;&nbsp;</a></span>M_state_machine_ndescr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_uint64 M_state_machine_ndescr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_bool&#160;</td>
          <td class="paramname"><em>recurse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the numeric description of the state machine</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recurse</td><td>Recurs into each running sub state machine and return the description for the one running.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ndescr specified creating the state machine. </dd></dl>

</div>
</div>
<a id="ga7fe23ef20370afb18c86632f668f59cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7fe23ef20370afb18c86632f668f59cb">&#9670;&nbsp;</a></span>M_state_machine_descr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* M_state_machine_descr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_bool&#160;</td>
          <td class="paramname"><em>recurse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the description of the state machine</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recurse</td><td>Recurse into each running sub state machine and return the description for the one running.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The descr text specified creating the state machine. </dd></dl>

</div>
</div>
<a id="gae688398f2616e38cecc56a2b1b9b1f3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae688398f2616e38cecc56a2b1b9b1f3d">&#9670;&nbsp;</a></span>M_state_machine_active_sub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a>* M_state_machine_active_sub </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_bool&#160;</td>
          <td class="paramname"><em>recurse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the active sub state machine that is currently running.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recurse</td><td>Recurse into each running sub state machine and return the last one that is running.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Sub state machine if one is currently running. Otherwise, NULL. </dd></dl>

</div>
</div>
<a id="gad6aa49756f49a900c3069b1130fb71b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6aa49756f49a900c3069b1130fb71b5">&#9670;&nbsp;</a></span>M_state_machine_active_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_state_machine_active_state </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64 *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get state of the state machine.</p>
<p>This only returns information about the given state machine. It does not look into sub state machines if one is running.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">id</td><td>The id of the state currently being run. Optional pass NULL if only checking whether the state machine is running.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if the state machine has been started and the id is a valid state id. Otherwise M_FALSE. </dd></dl>

</div>
</div>
<a id="gad0404b7b17fa2b9d2f15f10685b879df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad0404b7b17fa2b9d2f15f10685b879df">&#9670;&nbsp;</a></span>M_state_machine_active_state_ndescr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_uint64 M_state_machine_active_state_ndescr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_bool&#160;</td>
          <td class="paramname"><em>recurse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the numeric description for the currently running state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recurse</td><td>Recurse into each running sub state machine and return the description for the one running.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ndescr specified when adding the state to the state machine. </dd></dl>

</div>
</div>
<a id="ga22652eb92d60ca1d5059df274fd615ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga22652eb92d60ca1d5059df274fd615ea">&#9670;&nbsp;</a></span>M_state_machine_active_state_descr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* M_state_machine_active_state_descr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_bool&#160;</td>
          <td class="paramname"><em>recurse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the description text for the currently running state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recurse</td><td>Recurse into each running sub state machine and return the description for the one running.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The descr text specified when adding the state to the state machine. </dd></dl>

</div>
</div>
<a id="gafef7e8b0852ef9009ac16696dae2e6b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafef7e8b0852ef9009ac16696dae2e6b7">&#9670;&nbsp;</a></span>M_state_machine_descr_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* M_state_machine_descr_full </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_bool&#160;</td>
          <td class="paramname"><em>show_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a textual representation of state machine and it's current state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>The state machine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">show_id</td><td>M_TRUE if the numeric representation of state ids should be included.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A compound description of every machine and state. </dd></dl>

</div>
</div>
<a id="gacff1b069b0bc0ba5d7a5fcf80f62001e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacff1b069b0bc0ba5d7a5fcf80f62001e">&#9670;&nbsp;</a></span>M_state_machine_duplicate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a>* M_state_machine_duplicate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__m__state__machine.html#gad576e0cce8ea03b5bfcffabfacfe6c14">M_state_machine_t</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Duplicate an existing state machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>State machine to duplicate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New state machine. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Feb 20 2018 12:46:12 for Mstdlib-1.0.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
